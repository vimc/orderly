<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Search for orderly reports matching criteria.  This can be used to
find reports where a particular parameter or tag was used (it will
likely be expanded as time goes on - let us know if that would be
useful).  We search within versions of a single report only."><title>Search for orderly reports matching criteria — orderly_search • orderly</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for orderly reports matching criteria — orderly_search"><meta property="og:description" content="Search for orderly reports matching criteria.  This can be used to
find reports where a particular parameter or tag was used (it will
likely be expanded as time goes on - let us know if that would be
useful).  We search within versions of a single report only."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">orderly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/orderly.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bundles.html">orderly bundles</a>
    <a class="dropdown-item" href="../articles/changelog.html">orderly changelog</a>
    <a class="dropdown-item" href="../articles/patterns.html">orderly patterns</a>
    <a class="dropdown-item" href="../articles/remote.html">orderly remotes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vimc/orderly/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Search for orderly reports matching criteria</h1>
      <small class="dont-index">Source: <a href="https://github.com/vimc/orderly/blob/HEAD/R/query_search.R" class="external-link"><code>R/query_search.R</code></a></small>
      <div class="d-none name"><code>orderly_search.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Search for orderly reports matching criteria.  This can be used to
find reports where a particular parameter or tag was used (it will
likely be expanded as time goes on - let us know if that would be
useful).  We search within versions of a single report only.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orderly_search</span><span class="op">(</span></span>
<span>  <span class="va">query</span>,</span>
<span>  <span class="va">name</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  draft <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  root <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>query</dt>
<dd><p>The query string - see details and examples</p></dd>


<dt>name</dt>
<dd><p>Name of the report to search.  Only a single report
can be searched at once.</p></dd>


<dt>parameters</dt>
<dd><p>Named list of parameters (as would be passed to
<code><a href="orderly_run.html">orderly_run()</a></code>) if your query uses parameters on the
right-hand-side of an expression.</p></dd>


<dt>draft</dt>
<dd><p>Should draft reports be used searched?  This should
be used only in development.  Valid values are logical
(<code>TRUE</code>, <code>FALSE</code>) or use the string <code>newer</code> to
use draft reports where they are newer than archive reports.
For consistency, <code>always</code> and <code>never</code> are equivalent
to <code>TRUE</code> and <code>FALSE</code>, respectively.</p></dd>


<dt>root</dt>
<dd><p>The path to an orderly root directory, or <code>NULL</code>
(the default) to search for one from the current working
directory if <code>locate</code> is <code>TRUE</code>.</p></dd>


<dt>locate</dt>
<dd><p>Logical, indicating if the configuration should be
searched for.  If <code>TRUE</code> and <code>config</code> is not given,
then orderly looks in the working directory and up through its
parents until it finds an <code>orderly_config.yml</code> file.</p></dd>


<dt>remote</dt>
<dd><p>A remote to use, if you want to apply the query
remotely.  If this is used then <code>draft</code> cannot be set to
<code>TRUE</code> as remotes do not expose draft reports.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A character vector of matching report ids, possibly
zero-length.  If the query is a "latest" query, then exactly one
report id, possibly NA.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The query syntax is deliberately very simple; it may expand a bit
later.  At this point you can search for parameters and for tags,
and these can be combined.  Note that if you are using OrderlyWeb,
then only orderly (and not OrderlyWeb) tags are searched.</p>
<p>The idea here is that the queries can be used to find ids that
match certain criteria for use as dependencies.  This function
lets you work out what would be resolved by the query, and using
this query string in a <code>depends:</code> section will let you select
a report that matches some criteria.  For example, suppose that
you have report <code>A</code> that takes a parameter "fruit" with
values like "apple", "banana", and a report <code>B</code> that depends
on A.  You could then write:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1"></a>depends<span class="op">:</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="st">  </span>A<span class="op">:</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="st">    </span>id<span class="op">:</span><span class="st"> </span><span class="kw">latest</span>(parameter<span class="op">:</span>fruit <span class="op">==</span><span class="st"> "apple"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>    uses<span class="op">:</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="st">      </span>summary.csv<span class="op">:</span><span class="st"> </span>summary.csv</span></code></pre><p></p></div>
<p>To get the <code>summary.csv</code> file out of the latest report
<code>A</code> that was run with the "fruit" parameter set to "apple".
If "B" itself takes parameters, you can use those parameters in
these query expressions like</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1"></a>depends<span class="op">:</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="st">  </span>A<span class="op">:</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="st">    </span>id<span class="op">:</span><span class="st"> </span><span class="kw">latest</span>(parameter<span class="op">:</span>fruit <span class="op">==</span><span class="st"> </span>target_fruit)</span>
<span id="cb1-4"><a href="#cb1-4"></a>    uses<span class="op">:</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="st">      </span>summary.csv<span class="op">:</span><span class="st"> </span>summary.csv</span></code></pre><p></p></div>
<p>(assuming that <code>B</code> takes a parameter <code>target_fruit</code>).</p>
<p>The syntax for tags is simpler, one uses <code>tag:tagname</code> to
test for presence of a tag called "tagname".</p>
<p>Search queries can be joined by <code>&amp;&amp;</code> and <code>||</code> and
grouped using parentheses, these groups (or tags) can be negated
with <code>!</code>, so a complicated query expression might look like:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1"></a>(parameter<span class="op">:</span>fruit <span class="op">==</span><span class="st"> "apple"</span> <span class="op">&amp;&amp;</span><span class="st"> </span><span class="op">!</span>tag<span class="op">:</span>weekly) <span class="op">||</span><span class="st"> </span>parameter<span class="op">:</span>fruit <span class="op">==</span><span class="st"> "banana"</span></span></code></pre><p></p></div>
<p>Be careful of comparing floating point numbers with <code>==</code> or
<code>!=</code> as they may not always return what you expect (for example
<code>sqrt(3)^2 == 3</code> is <code>FALSE</code>).</p>
<p>In the documentation and error messages we may refer to the
left-hand-side of <code>:</code> as a "namespace".  At this point the
only supported namespaces are <code>tag</code> and <code>parameter</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># We need a few reports here to actually query.  There is a report in</span></span></span>
<span class="r-in"><span><span class="co"># the "demo" example called "other" that takes a parameter "nmin",</span></span></span>
<span class="r-in"><span><span class="co"># which is used to filter data - it's not terribly important what it</span></span></span>
<span class="r-in"><span><span class="co"># does here, but it can give us a set of reports to use.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The demo set also includes configuration for two tags, called</span></span></span>
<span class="r-in"><span><span class="co"># "dataset" and "plot" - the "dataset" tag will always be applied</span></span></span>
<span class="r-in"><span><span class="co"># as it is listed in the orderly.yml but we can still add the</span></span></span>
<span class="r-in"><span><span class="co"># "plot" tag interactively</span></span></span>
<span class="r-in"><span><span class="va">root</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_example.html">orderly_example</a></span><span class="op">(</span><span class="st">"demo"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A helper function to mass-produce reports will reduce noise a bit</span></span></span>
<span class="r-in"><span><span class="va">run1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">nmin</span>, <span class="va">tags</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span>, echo <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                    parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>nmin <span class="op">=</span> <span class="va">nmin</span><span class="op">)</span>, tags <span class="op">=</span> <span class="va">tags</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="orderly_commit.html">orderly_commit</a></span><span class="op">(</span><span class="va">id</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">id</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">run1</span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span>, <span class="fu">run1</span><span class="op">(</span><span class="fl">0.2</span>, <span class="st">"plot"</span><span class="op">)</span>, <span class="fu">run1</span><span class="op">(</span><span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105039-0c9814f2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">sources   </span> ]  functions.R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0.1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:39</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">data      </span> ]  source =&gt; extract: 19 x 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0.1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:39</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.0174346 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  summary.csv: 08a4566d063098080bfd318f675926f2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  graph.png: 9d98e56ce7726a1523c1b03eb0e4efb4</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">commit    </span> ]  other/20230621-105039-0c9814f2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">copy      </span> ]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  other:20230621-105039-0c9814f2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">success   </span> ]  :)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105039-4d2d7e97</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">sources   </span> ]  functions.R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0.2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:39</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">data      </span> ]  source =&gt; extract: 19 x 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0.2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:39</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.016361 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  summary.csv: cd50fcc04b94e221751a0e9d9b03baeb</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  graph.png: 994b6ce8c97b6c137d1db1382be0580d</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">commit    </span> ]  other/20230621-105039-4d2d7e97</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">copy      </span> ]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  other:20230621-105039-4d2d7e97</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">success   </span> ]  :)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105039-7679a8d2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">sources   </span> ]  functions.R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0.3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:39</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">data      </span> ]  source =&gt; extract: 17 x 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0.3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:39</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.01739478 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  summary.csv: 54a56f371a78d7dabeb7593b81f5f5d6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  graph.png: 27583938cf0eb43dd486f546efe593c7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">commit    </span> ]  other/20230621-105039-7679a8d2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">copy      </span> ]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  other:20230621-105039-7679a8d2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">success   </span> ]  :)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can then ask for all reports where the parameter nmin was more</span></span></span>
<span class="r-in"><span><span class="co"># than some value</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"parameter:nmin &gt; 0.15"</span>, <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105039-4d2d7e97" "20230621-105039-7679a8d2"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or use "&amp;&amp;" to find tags within a range</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"parameter:nmin &gt; 0.1 &amp;&amp; parameter:nmin &lt; 0.3"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105039-4d2d7e97"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If a parameter is not present in some versions of a report you</span></span></span>
<span class="r-in"><span><span class="co"># can use is.null to test for it (this is only ever the case if</span></span></span>
<span class="r-in"><span><span class="co"># you have altered a report definition to add or remove a</span></span></span>
<span class="r-in"><span><span class="co"># parameter)</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"is.null(parameter:nmin)"</span>, <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can look for tags</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"tag:plot"</span>, <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105039-4d2d7e97"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or exclude them</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"!tag:plot"</span>, <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105039-0c9814f2" "20230621-105039-7679a8d2"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or combine that with the presence/absence of a tag</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"parameter:nmin &gt; 0.15 &amp;&amp; !tag:plot"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105039-7679a8d2"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use latest() over a query to find the latest report matching the</span></span></span>
<span class="r-in"><span><span class="co"># query expression.</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"latest(parameter:nmin &gt; 0.15)"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105039-7679a8d2"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If no reports are found, then a zero-length character vector is returned</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"parameter:nmin &gt; 0.4"</span>, <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or, in the case of latest(), NA</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_search</span><span class="op">(</span><span class="st">"latest(parameter:nmin &gt; 0.4)"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"other"</span>, root <span class="op">=</span> <span class="va">root</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rich FitzJohn, Robert Ashton, Alex Hill, Martin Eden, Wes Hinsley, Emma Russell, James Thompson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

