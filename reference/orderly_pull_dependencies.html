<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Download dependent reports from an orderly remote.  This can only
be used if the orderly_config.yml lists a remote.  This
allows for a centralised workflow where a central orderly store
exists and holds the canonical copies of reports, from which
versions can be downloaded into local stores."><title>Download dependent reports — orderly_pull_dependencies • orderly</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download dependent reports — orderly_pull_dependencies"><meta property="og:description" content="Download dependent reports from an orderly remote.  This can only
be used if the orderly_config.yml lists a remote.  This
allows for a centralised workflow where a central orderly store
exists and holds the canonical copies of reports, from which
versions can be downloaded into local stores."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">orderly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/orderly.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bundles.html">orderly bundles</a>
    <a class="dropdown-item" href="../articles/changelog.html">orderly changelog</a>
    <a class="dropdown-item" href="../articles/patterns.html">orderly patterns</a>
    <a class="dropdown-item" href="../articles/remote.html">orderly remotes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vimc/orderly/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Download dependent reports</h1>
      <small class="dont-index">Source: <a href="https://github.com/vimc/orderly/blob/HEAD/R/remote.R" class="external-link"><code>R/remote.R</code></a></small>
      <div class="d-none name"><code>orderly_pull_dependencies.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Download dependent reports from an orderly remote.  This can only
be used if the <code>orderly_config.yml</code> lists a remote.  This
allows for a centralised workflow where a central orderly store
exists and holds the canonical copies of reports, from which
versions can be downloaded into local stores.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orderly_pull_dependencies</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  root <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">orderly_pull_archive</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"latest"</span>,</span>
<span>  root <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">orderly_push_archive</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"latest"</span>,</span>
<span>  root <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>name</dt>
<dd><p>Name of the report to download dependencies for.
Alternatively, the default of <code>NULL</code> is useful if you have
already set the working directory to be the source directory.</p></dd>


<dt>root</dt>
<dd><p>The path to an orderly root directory, or <code>NULL</code>
(the default) to search for one from the current working
directory if <code>locate</code> is <code>TRUE</code>.</p></dd>


<dt>locate</dt>
<dd><p>Logical, indicating if the configuration should be
searched for.  If <code>TRUE</code> and <code>config</code> is not given,
then orderly looks in the working directory and up through its
parents until it finds an <code>orderly_config.yml</code> file.</p></dd>


<dt>remote</dt>
<dd><p>Description of the location.  Typically this is a
character string indicating a remote specified in the
<code>remotes</code> block of your <code>orderly_config.yml</code>.  It is
also possible to pass in a directly created remote object (e.g.,
using <code><a href="orderly_remote_path.html">orderly_remote_path()</a></code>, or one provided by
another package).  If left <code>NULL</code>, then the default remote
for this orderly repository is used - by default that is the
first listed remote.</p></dd>


<dt>parameters</dt>
<dd><p>Parameters to pass through when doing dependency
resolution.  If you are using a query for <code>id</code> that
involves a parameter (e.g., <code>latest(parameter:x == p)</code>) you
will need to pass in the parameters here.  Similarly, if you are
pulling a report that uses query dependencies that reference
parameters you need to pass them here (the same parameter set
will be passed through to all dependencies).</p></dd>


<dt>recursive</dt>
<dd><p>Logical, indicating if all dependencies of a
report should also be pulled. Setting this to <code>FALSE</code> only
the direct reports, along with metadata for the dependencies;
this will be potentially much faster, but leaves your archive in
a more fragile state.</p></dd>


<dt>id</dt>
<dd><p>The identifier (for <code>orderly_pull_archive</code>).  The default is
to use the latest report.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>No return value, these functions are called only for their
side effects</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>orderly_pull_archive</code> function pulls report directly
(without it being a dependent report).</p>
<p>After setting your username up you can run
<code>orderly_pull_dependencies("reportname")</code> to pull the
<em>dependencies</em> of <code>"reportname"</code> down so that
<code>"reportname"</code> can be run, or you can run
<code>orderly_pull_archive("reportname")</code> to pull a copy of
<code>"reportname"</code> that has been run on the remote server.</p>
<p>Pulling an archive report from a remote also pulls its
dependencies (recursively), and adds all of these to the local
database.  This may require migrating old orderly archives
(<code><a href="orderly_migrate.html">orderly_migrate()</a></code>).  Note that this migration will
likely fail for remote orderly versions older than 0.6.8 because
the migration needs to read data files on disk that are not
included in the downloaded archive in order to collect all the
information required for the database.  In this case, ask the
administrator of the remote orderly archive to migrate their
archive, and then re-pull.</p>
<p>Pushing an archive is possible only if the remote supports it.
Currently this is supported by <code><a href="orderly_remote_path.html">orderly_remote_path()</a></code>
remotes, though not by orderlyweb remotes.  There is no control
over what will <em>accept</em> a push at this point, nor any check
that what you've pushed is "good" except that it exists in your
archive.  As with pulling an archive, pushes are recursive with
respect to dependencies.  The configuration interface here will
likely change a little over time.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="orderly_remote_path.html">orderly_remote_path()</a></code>, which implements the
remote interface for orderly repositories at a local path.  See
also <a href="https://github.com/vimc/orderly-web" class="external-link">OrderlyWeb</a> for a
system for hosting orderly repositories over an HTTP API.
<code><a href="../articles/remote.html">vignette("remote", package = "orderly")</a></code> describes the
remote system in more detail.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Suppose we have a "remote" orderly repository at some path.</span></span></span>
<span class="r-in"><span><span class="co"># This might be read-only for you in practice and available via a</span></span></span>
<span class="r-in"><span><span class="co"># network filesystem or a dropbox folder synced to your computer.</span></span></span>
<span class="r-in"><span><span class="co"># We'll populate this with a pair of reports:</span></span></span>
<span class="r-in"><span><span class="va">path_remote</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_example.html">orderly_example</a></span><span class="op">(</span><span class="st">"demo"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"other"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>nmin <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           root <span class="op">=</span> <span class="va">path_remote</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105033-eb061005</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">sources   </span> ]  functions.R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:33</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">data      </span> ]  source =&gt; extract: 20 x 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:33</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.01761746 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  summary.csv: 3fac8347e152c84c96e6676413c718b7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  graph.png: a70cdfd037035a0b34e71b921fc9de42</span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_commit.html">orderly_commit</a></span><span class="op">(</span><span class="va">id</span>, root <span class="op">=</span> <span class="va">path_remote</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">commit    </span> ]  other/20230621-105033-eb061005</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">copy      </span> ]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  other:20230621-105033-eb061005</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">success   </span> ]  :)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpGRuIRx/file47efd9e3e/archive/other/20230621-105033-eb061005"</span>
<span class="r-in"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"use_dependency"</span>,</span></span>
<span class="r-in"><span>                           root <span class="op">=</span> <span class="va">path_remote</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  use_dependency</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105034-2e62a9d8</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">depends   </span> ]  other@20230621-105033-eb061005:summary.csv -&gt; incoming.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:34</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:34</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.0123229 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  graph.png: a70cdfd037035a0b34e71b921fc9de42</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  info.rds: 5c05bfcb21a29c67577faa8bc6382927</span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_commit.html">orderly_commit</a></span><span class="op">(</span><span class="va">id</span>, root <span class="op">=</span> <span class="va">path_remote</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">commit    </span> ]  use_dependency/20230621-105034-2e62a9d8</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">copy      </span> ]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  use_dependency:20230621-105034-2e62a9d8</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">success   </span> ]  :)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpGRuIRx/file47efd9e3e/archive/use_dependency/20230621-105034-2e62a9d8"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We'll create a an object to interact with this remote using</span></span></span>
<span class="r-in"><span><span class="co"># orderly_remote_path.</span></span></span>
<span class="r-in"><span><span class="va">remote</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_remote_path.html">orderly_remote_path</a></span><span class="op">(</span><span class="va">path_remote</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can use this object directly</span></span></span>
<span class="r-in"><span><span class="va">remote</span><span class="op">$</span><span class="fu">list_reports</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "changelog"          "connection"         "default-param"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] "global"             "html"               "interactive"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "minimal"            "multi-artefact"     "multifile-artefact"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] "other"              "slow1"              "slow10"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] "slow3"              "spaces"             "use_dependency"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "use_dependency_2"   "use_resource"       "use_resource_dir"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] "view"              </span>
<span class="r-in"><span><span class="va">remote</span><span class="op">$</span><span class="fu">list_versions</span><span class="op">(</span><span class="st">"other"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105033-eb061005"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># More typically one will interact with the functions</span></span></span>
<span class="r-in"><span><span class="co"># orderly_pull_archive and orderly_pull_dependencies.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now, suppose that you have your "local" copy of this; it shares</span></span></span>
<span class="r-in"><span><span class="co"># the same source (ordinarily these would both be under version</span></span></span>
<span class="r-in"><span><span class="co"># control with git):</span></span></span>
<span class="r-in"><span><span class="va">path_local</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_example.html">orderly_example</a></span><span class="op">(</span><span class="st">"demo"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If we wanted to run the report "use_dependency" we need to have</span></span></span>
<span class="r-in"><span><span class="co"># a copy of the report "other", on which it depends:</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"use_dependency"</span>, root <span class="op">=</span> <span class="va">path_local</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  use_dependency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in orderly_find_report(id, name, config, draft = use_draft, must_work = TRUE) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Did not find archive report other:latest</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can "pull" dependencies of a report before running</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_pull_dependencies</span><span class="op">(</span><span class="st">"use_dependency"</span>, remote <span class="op">=</span> <span class="va">remote</span>,</span></span>
<span class="r-in"><span>                                   root <span class="op">=</span> <span class="va">path_local</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">depends   </span> ]  use_dependency has 1 dependency</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">pull      </span> ]  other:20230621-105033-eb061005</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  other:20230621-105033-eb061005</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now we can run the report because we have a local copy of the</span></span></span>
<span class="r-in"><span><span class="co"># dependency:</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"use_dependency"</span>, root <span class="op">=</span> <span class="va">path_local</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  use_dependency</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105034-970fba55</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">depends   </span> ]  other@20230621-105033-eb061005:summary.csv -&gt; incoming.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; d &lt;- read.csv("incoming.csv", stringsAsFactors = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; png("graph.png")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; par(mar = c(15, 4, 0.5, 0.5))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; barplot(setNames(d$number, d$name), las = 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; dev.off()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg_png </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; info &lt;- orderly::orderly_run_info()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; saveRDS(info, "info.rds")</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:34</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.01296592 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  graph.png: a70cdfd037035a0b34e71b921fc9de42</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  info.rds: f40fcef7bb80452c0488305e6ab89058</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105034-970fba55"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can also directly pull previously run reports:</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_pull_archive</span><span class="op">(</span><span class="st">"use_dependency"</span>, <span class="va">id</span>, remote <span class="op">=</span> <span class="va">remote</span>,</span></span>
<span class="r-in"><span>                              root <span class="op">=</span> <span class="va">path_local</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">pull      </span> ]  use_dependency:20230621-105034-2e62a9d8</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">depends   </span> ]  other/20230621-105033-eb061005</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">pull      </span> ]  other:20230621-105033-eb061005 already exists, skipping</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">import    </span> ]  use_dependency:20230621-105034-2e62a9d8</span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_list_drafts.html">orderly_list_archive</a></span><span class="op">(</span>root <span class="op">=</span> <span class="va">path_local</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             name                       id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          other 20230621-105033-eb061005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 use_dependency 20230621-105034-2e62a9d8</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rich FitzJohn, Robert Ashton, Alex Hill, Martin Eden, Wes Hinsley, Emma Russell, James Thompson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

