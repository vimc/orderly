<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The functions orderly_develop_start,
orderly_develop_status and orderly_develop_clean
provide a workflow for developing a report in much the same way as
one might write code outside of orderly.
orderly_develop_start will copy all files required (global
resources and dependencies) into the report source directory, as
well as collect all data and parameters - at this point the
directory can be developed in directly.  It will also load all
declared packages, and source all code files listed in the
packages: and sources: sections of your
orderly.yml.  orderly_develop_status provides
information about the status of files in the directory, while
orderly_develop_clean deletes all copied files."><title>Develop an orderly report — orderly_develop_start • orderly</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Develop an orderly report — orderly_develop_start"><meta property="og:description" content="The functions orderly_develop_start,
orderly_develop_status and orderly_develop_clean
provide a workflow for developing a report in much the same way as
one might write code outside of orderly.
orderly_develop_start will copy all files required (global
resources and dependencies) into the report source directory, as
well as collect all data and parameters - at this point the
directory can be developed in directly.  It will also load all
declared packages, and source all code files listed in the
packages: and sources: sections of your
orderly.yml.  orderly_develop_status provides
information about the status of files in the directory, while
orderly_develop_clean deletes all copied files."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">orderly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/orderly.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bundles.html">orderly bundles</a>
    <a class="dropdown-item" href="../articles/changelog.html">orderly changelog</a>
    <a class="dropdown-item" href="../articles/patterns.html">orderly patterns</a>
    <a class="dropdown-item" href="../articles/remote.html">orderly remotes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vimc/orderly/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Develop an orderly report</h1>
      <small class="dont-index">Source: <a href="https://github.com/vimc/orderly/blob/HEAD/R/develop.R" class="external-link"><code>R/develop.R</code></a></small>
      <div class="d-none name"><code>orderly_develop_start.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The functions <code>orderly_develop_start</code>,
<code>orderly_develop_status</code> and <code>orderly_develop_clean</code>
provide a workflow for developing a report in much the same way as
one might write code outside of orderly.
<code>orderly_develop_start</code> will copy all files required (global
resources and dependencies) into the report source directory, as
well as collect all data and parameters - at this point the
directory can be developed in directly.  It will also load all
declared packages, and source all code files listed in the
<code>packages:</code> and <code>sources:</code> sections of your
<code>orderly.yml</code>.  <code>orderly_develop_status</code> provides
information about the status of files in the directory, while
<code>orderly_develop_clean</code> deletes all copied files.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orderly_develop_start</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  root <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  instance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_draft <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">orderly_develop_status</span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>, root <span class="op">=</span> <span class="cn">NULL</span>, locate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">orderly_develop_clean</span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>, root <span class="op">=</span> <span class="cn">NULL</span>, locate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>name</dt>
<dd><p>Name of the report to develop (see
<code><a href="orderly_list.html">orderly_list()</a></code>).  A leading <code>src/</code> will be
removed if provided, allowing easier use of autocomplete.
Alternatively, the default of <code>NULL</code> is useful if you have
already set the working directory to be the source directory.</p></dd>


<dt>parameters</dt>
<dd><p>Parameters passed to the report. A named list of
parameters declared in the <code>orderly.yml</code>.  Each parameter
must be a scalar character, numeric, integer or logical.</p></dd>


<dt>envir</dt>
<dd><p>The parent of the environment that will be used to
evaluate the report script; by default a new environment will be
made with the global environment as the parent.</p></dd>


<dt>root</dt>
<dd><p>The path to an orderly root directory, or <code>NULL</code>
(the default) to search for one from the current working
directory if <code>locate</code> is <code>TRUE</code>.</p></dd>


<dt>locate</dt>
<dd><p>Logical, indicating if the configuration should be
searched for.  If <code>TRUE</code> and <code>config</code> is not given,
then orderly looks in the working directory and up through its
parents until it finds an <code>orderly_config.yml</code> file.</p></dd>


<dt>instance</dt>
<dd><p>Select instance of the source database to be used,
where multiple instances are configured.  Use a single
<em>unnamed</em> character string to indicate an instance to
match.  If given, then this name must be present in all
databases where instances are listed in
<code>orderly_config.yml</code>, and will be ignored by all database
where instances are not given.  See the "orderly" vignette for
further information.</p></dd>


<dt>use_draft</dt>
<dd><p>Should draft reports be used for dependencies?
This should be used only in development.  Valid values are
logical (<code>TRUE</code>, <code>FALSE</code>) or use the string
<code>newer</code> to use draft reports where they are newer than
archive reports.  For consistency, <code>always</code> and
<code>never</code> are equivalent to <code>TRUE</code> and <code>FALSE</code>,
respectively.</p></dd>


<dt>remote</dt>
<dd><p>Remote to use to resolve dependencies.  Use this in
order to run a report with the same dependencies as are
available on a remote server, particularly when using <code>id = "latest"</code>.  Note that this is not the same as running
<code><a href="orderly_pull_dependencies.html">orderly_pull_dependencies()</a></code>, then <code>orderly_run</code>
with <code>remote = NULL</code>, as the pull/run approach will use the
latest report in <em>your</em> archive but the <code>remote = "remote"</code> approach will use the latest approach in the
<em>remote</em> archive (which might be less recent).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A character vector with the full path to the directory,
invisibly.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These functions are designed to work within a report's <code>src</code>
directory.  For example, for a report <code>analysis</code> they will
alter or report on the directory <code>src/analysis</code>.  It is
intended that <code>orderly_develop_start</code> can be run repeatedly;
doing this will <em>refresh</em> the contents of the directory if
upstream files have been updated.</p>
<p>Some degree of care should be used while using these functions.</p>
<p>Because <code>orderly_develop_start</code> copies files into your source
tree you should be careful to add these files to your
<code>.gitignore</code> files so that they are not included if using
git.  Rerunning <code>orderly_develop_start</code> will copy a fresh
copy of dependencies into your tree, overwriting files that are
there without warning.</p>
<p>Repeatedly running <code>orderly_develop_start</code> is "safe", in that
it will re-run through the setup steps, but beware that sourcing
functions is additive and never subtractive.  If you delete (or
rename) a function within a source file, it will not be removed
from your global environment.  Similarly, environment variables
will be loaded each time you call this, but no deletions will
happen.  When in doubt, restart your R session.</p>
<p>Note that these functions are much more permissive as to the state
of your <code>orderly.yml</code> than <code><a href="orderly_run.html">orderly_run()</a></code> - in
particular, they will run, with a message, even if you have not
yet defined a <code>script:</code> or any <code>artefacts:</code>.</p>
<p>The <code>orderly_develop_clean</code> function will delete dependencies
without warning.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_example.html">orderly_example</a></span><span class="op">(</span><span class="st">"demo"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This report uses a dependency - it requires that the file</span></span></span>
<span class="r-in"><span><span class="co"># incoming.csv exists.  This file is created from the report 'other'</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_develop_status</span><span class="op">(</span><span class="st">"use_dependency"</span>, root <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       filename       type present derived</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  orderly.yml    orderly    TRUE   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     script.R     script    TRUE   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 incoming.csv dependency   FALSE    TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    graph.png   artefact   FALSE    TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     info.rds   artefact   FALSE    TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Copy the required dependencies over, in this case from a draft report</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"other"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>nmin <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, root <span class="op">=</span> <span class="va">path</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">id        </span> ]  20230621-105028-e7f9ceb9</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">sources   </span> ]  functions.R</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">start     </span> ]  2023-06-21 10:50:28</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">data      </span> ]  source =&gt; extract: 20 x 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">parameter </span> ]  nmin: 0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">end       </span> ]  2023-06-21 10:50:28</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">elapsed   </span> ]  Ran report in 0.02376294 secs</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">artefact  </span> ]  summary.csv: 3fac8347e152c84c96e6676413c718b7</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">...       </span> ]  graph.png: a70cdfd037035a0b34e71b921fc9de42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20230621-105028-e7f9ceb9"</span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_develop_start</span><span class="op">(</span><span class="st">"use_dependency"</span>, root <span class="op">=</span> <span class="va">path</span>,</span></span>
<span class="r-in"><span>                               use_draft <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">name      </span> ]  use_dependency</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">depends   </span> ]  other@20230621-105028-e7f9ceb9:summary.csv -&gt; incoming.csv</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Files have been copied across into the source directory</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_develop_status</span><span class="op">(</span><span class="st">"use_dependency"</span>, root <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       filename       type present derived</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  orderly.yml    orderly    TRUE   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     script.R     script    TRUE   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 incoming.csv dependency    TRUE    TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    graph.png   artefact   FALSE    TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     info.rds   artefact   FALSE    TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The report can then be developed as needed, interactively.  After</span></span></span>
<span class="r-in"><span><span class="co"># we're happy things can be cleaned up with</span></span></span>
<span class="r-in"><span><span class="fu">orderly</span><span class="fu">::</span><span class="fu">orderly_develop_clean</span><span class="op">(</span><span class="st">"use_dependency"</span>, root <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> [ <span style="color: #555555; font-weight: bold;">remove    </span> ]  incoming.csv</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rich FitzJohn, Robert Ashton, Alex Hill, Martin Eden, Wes Hinsley, Emma Russell, James Thompson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

