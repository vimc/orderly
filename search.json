[{"path":"https://www.vaccineimpact.org/orderly/articles/bundles.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"orderly bundles","text":"order use orderly bundles make assumptions conventions. First, assume running exported report another machine (otherwise access orderly tree) report takes really quite long time. Second, assume way getting bundled reports machine completed bundles back — expect details specific needs situation overhead trivial compared cost running report. Third, assume deal issues around queuing, locking fault tolerance. orderly’s point view work exported orderly point ’re control - expect come back computed point, though enforce . Fourth, machine running report can trusted actually run report - set orderly server safe interactively run reports, don’t allow importing anyone’s laptops want preserve . Fifth, trust remote machine data, remote machine trusts orderly archive enough run arbitrary code .","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/bundles.html","id":"the-process","dir":"Articles","previous_headings":"","what":"The process","title":"orderly bundles","text":"use orderly demo example, pack use_dependency report. use_dependency report dependency, run need place ’ll put bundles: Now, can pack use_dependency run orderly_bundle_pack created zip file. format file internal orderly (likely change point become resistant tampering), contains: subdirectory pack contains report working directory, code dependencies, etc, meta contains additional information required run report. particular incoming.csv file pack directory contains dependency imported . copy zip file somewhere else run (details vary based system, moving file necessary run , though likely situation). files moved can run : workdir directory want report run . can path incoming zip file found, want, make harder know run already . creates another zip file, time contains results running report. result can imported order using orderly::orderly_bundle_import path zip file: copy use_dependency now archive can used like orderly report","code":"path <- orderly::orderly_example(\"demo\") id <- orderly::orderly_run(\"other\", parameters = list(nmin = 0),                            echo = FALSE, root = path) ## [ name       ]  other ## [ id         ]  20230621-105042-9cf2e3e8 ## [ sources    ]  functions.R ## [ parameter  ]  nmin: 0 ## [ start      ]  2023-06-21 10:50:42 ## [ data       ]  source => extract: 20 x 2 ## [ parameter  ]  nmin: 0 ## [ end        ]  2023-06-21 10:50:42 ## [ elapsed    ]  Ran report in 0.04547048 secs ## [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 ## [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 orderly::orderly_commit(id, root = path) ## [ commit     ]  other/20230621-105042-9cf2e3e8 ## [ copy       ] ## [ import     ]  other:20230621-105042-9cf2e3e8 ## [ success    ]  :) ## [1] \"/tmp/RtmpmssnAS/file2ee23ea0d56/archive/other/20230621-105042-9cf2e3e8\" path_bundles <- tempfile() bundle <- orderly::orderly_bundle_pack(path_bundles, \"use_dependency\",                                        root = path) ## [ name       ]  use_dependency ## [ id         ]  20230621-105043-1b0512b0 ## [ depends    ]  other@20230621-105042-9cf2e3e8:summary.csv -> incoming.csv ## [ start      ]  2023-06-21 10:50:43 ## [ bundle pack ]  20230621-105043-1b0512b0 bundle ## $id ## [1] \"20230621-105043-1b0512b0\" ##  ## $path ## [1] \"/tmp/RtmpmssnAS/file2ee19c7987c/20230621-105043-1b0512b0.zip\" zip::zip_list(bundle$path) ##                                      filename compressed_size uncompressed_size ## 1                   20230621-105043-1b0512b0/               0                 0 ## 2              20230621-105043-1b0512b0/meta/               0                 0 ## 3    20230621-105043-1b0512b0/meta/config.rds            1460              1455 ## 4      20230621-105043-1b0512b0/meta/info.rds            3417              3412 ## 5  20230621-105043-1b0512b0/meta/manifest.rds             284               279 ## 6   20230621-105043-1b0512b0/meta/session.rds           28660             28655 ## 7              20230621-105043-1b0512b0/pack/               0                 0 ## 8  20230621-105043-1b0512b0/pack/incoming.csv             542               888 ## 9   20230621-105043-1b0512b0/pack/orderly.yml             214               358 ## 10     20230621-105043-1b0512b0/pack/script.R             175               220 ##              timestamp permissions    crc32 offset ## 1  2023-06-21 10:50:42         755 00000000      0 ## 2  2023-06-21 10:50:42         755 00000000     55 ## 3  2023-06-21 10:50:42         644 40a01111    115 ## 4  2023-06-21 10:50:42         644 81afeadd   1661 ## 5  2023-06-21 10:50:42         644 692ad244   5162 ## 6  2023-06-21 10:50:42         644 a80a0286   5534 ## 7  2023-06-21 10:50:42         755 00000000  34281 ## 8  2023-06-21 10:50:42         644 e3c70810  34341 ## 9  2023-06-21 10:50:42         644 93fda3f3  34971 ## 10 2023-06-21 10:50:42         644 58329b6b  35272 workdir <- tempfile() res <- orderly::orderly_bundle_run(bundle$path, workdir) ## [ start      ]  2023-06-21 10:50:43 ##  ## > d <- read.csv(\"incoming.csv\", stringsAsFactors = FALSE) ##  ## > png(\"graph.png\") ##  ## > par(mar = c(15, 4, 0.5, 0.5)) ##  ## > barplot(setNames(d$number, d$name), las = 2) ##  ## > dev.off() ## agg_png  ##       2  ##  ## > info <- orderly::orderly_run_info() ##  ## > saveRDS(info, \"info.rds\") ## [ end        ]  2023-06-21 10:50:43 ## [ elapsed    ]  Ran report in 0.01410747 secs ## [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 ## [ ...        ]  info.rds: 198cd074e173fcbcd6ce32b71f3a9647 orderly::orderly_bundle_import(res$path, root = path) ## [ import     ]  use_dependency:20230621-105043-1b0512b0 orderly::orderly_list_archive(path) ##             name                       id ## 1          other 20230621-105042-9cf2e3e8 ## 2 use_dependency 20230621-105043-1b0512b0 orderly::orderly_graph(\"other\", root = path) ## other [20230621-105042-9cf2e3e8] ## └──use_dependency [20230621-105043-1b0512b0]"},{"path":"https://www.vaccineimpact.org/orderly/articles/bundles.html","id":"limitations","dir":"Articles","previous_headings":"","what":"Limitations","title":"orderly bundles","text":"yet verify incoming bundle comes trusted source, completed bundle run trusted system, bundle pack modified en route. add signing verifying step future address issues. support encryption bundle, may future version. Secrets copied clear text included. check package versions remote machine suitable, though metadata included support future. support reading databases using connection: field report running (reading data fine). future may relax remote report interacts database. Practically means bundled reports use connection: field, data packaged bundle, may large. discussed overview section, orderly deal movement bundles machines, queuing bundles.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/changelog.html","id":"the-orderly-changelog","dir":"Articles","previous_headings":"","what":"The orderly changelog","title":"orderly changelog","text":"version 0.6.0, orderly supports concept “changelog”. turns somewhat complicated expected, details explained .","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/changelog.html","id":"users-perspective","dir":"Articles","previous_headings":"The orderly changelog","what":"User’s perspective","title":"orderly changelog","text":"user perspective, changelog functionality fairly simple. Alongside orderly.yml file, one can changelog.txt file, contain description changes. file look like: short strings within [ ] label - everything label next label end file value (can span multiple lines, contain blank lines, etc). time, changelog prepended, .e., new information added top changelog. Existing entries must left unaltered. Messages can provided orderly_run (orderly run command line) required format [label] value. report run (via orderly::orderly_run(), via orderly run command line), given changelog, along message, compared last committed version report, entries introduced round identified. add report id entries, randomly generated unique id new entry. saved orderly_run.rds along report metadata.","code":"[public] Started working with new version of the data.  This includes everything sent up to 2018-10-10  [internal] Fixed incorrect plotting"},{"path":"https://www.vaccineimpact.org/orderly/articles/changelog.html","id":"details","dir":"Articles","previous_headings":"The orderly changelog","what":"Details","title":"orderly changelog","text":"Dear intrepid reader, can stop reading now unless interested details implemented changelog - turned bit fiddly section documents issues. complications need accept changelog entries present file (e.g., message argument) don’t know id running report can’t easily structure changelog file conventional sense. Instead detect “old” “new” entries detecting “old” entries complicated fact might multiple places reports run (development machine, staging environment, production environment) ultimately one source truth section documents logic involved making work. preparing run orderly report: read plaintext changelog exists parse messages provided add changelog entry from_file FALSE look “latest” archived version report read changelog report’s orderly_run.rds file. Alternatively can use remote copy orderly via interface (implemented yet). filter previous changelog remove from_file = FALSE entries confirm new changelog can prepended previous add id “new” entries prepend - save resulting data new report’s orderly_run.yml checking API, use GET reports/:name/versions/version/latest/changelog/ current report name :name.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"orderly","text":"orderly package designed help make analysis reproducible. principal aim automate series basic steps process writing analyses, making easy : track inputs analysis (packages, code, data resources) store multiple versions analysis repeated track outputs analysis create analyses depend outputs previous analyses orderly two main hopes: analysts can write code straightforwardly run someone else’s machine (remote machine) analysis run several times starts behaving differently easy see outputs started changing, inputs started changing time orderly requires conventions around organisation project, tries keep way. However, requirements designed make collaborative development git easier minimising conflicts making backup easier using append-storage system.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"the-problem","dir":"Articles","previous_headings":"Introduction","what":"The problem","title":"orderly","text":"One often-touted goal R point--click analyses packages analysis scripted reproducible. However, essentially analyses depend external resources - packages, data, code, R ; change external resources might change results. Preventing changes external resources always possible, tracking changes straightforward - need know used. example, reproducible research become synonymous literate programming approach often increases number external resources. typical knitr document depend : source file (.Rmd .Rnw) templates used styling data read analysis code directly read source orderly package helps collecting external resources analysis ensuring required external resources identified removing manual work tracking information external resources allowing running reports multiple times making easy see changed core problem analyses general interface. Consider contrast role functions take programming. functions set arguments (inputs) return value (outputs). orderly, borrow idea, piece analysis require user describes needed produced.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"the-process","dir":"Articles","previous_headings":"Introduction","what":"The process","title":"orderly","text":"user describes inputs analysis, including: SQL queries (using databases) Required R sources External resource files (e.g., csv data files, Rmd files, templates) Packages required run analysis Dependencies previously run analyses user also provides list “artefacts” (file-based results) produce. orderly: creates new empty directory copies declared file resources loads declared packages loads declared R sources evaluates sql queries create R objects runs analysis verifies declared artefacts produced stores metadata alongside analysis including hashes inputs outputs, copies data extracted database, record R packages loaded end session, (using git) information git state (hash, branch status). one dependencies report changes (used data, code, etc), metadata can queried identify likely source change.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"example","dir":"Articles","previous_headings":"","what":"Example","title":"orderly","text":"illustrate, start minimal example (can use orderly::orderly_init create similar structure directly), build demonstrate orderly features. minimal example, want run script creates graph. uses external resources. example, orderly_config.yml file completely empty, serves mark root orderly project. one report, called example, configuration within orderly.yml: two keys : script path script run, script.R artefacts description artefacts (files) produced running script. case graph filename mygraph.png script plain R code: R code can long short needed can use whatever packages needs. orderly anything script apart run can formatted freely (magic comments, etc). restrictions can done except must produce artefacts listed orderly.yml. , error thrown describing missing.","code":" [01;34m. [0m ├── orderly_config.yml └──  [01;34msrc [0m     └──  [01;34mexample [0m         ├── orderly.yml         └──  [32mscript.R [0m script: script.R  artefacts:   - staticgraph:       description: A graph of things       filenames: mygraph.png   - data:       description: Data that went into the plot       filenames: mydata.csv dat <- data.frame(x = 1:10, y = runif(10)) write.csv(dat, \"mydata.csv\", row.names = FALSE)  png(\"mygraph.png\") plot(dat) dev.off()"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"running-the-report","dir":"Articles","previous_headings":"Example","what":"Running the report","title":"orderly","text":"run report, use orderly::orderly_run (typically one orderly root root directory omitted, within vignette use temporary directory): return value id report (also printed third line log output) always format YYYYMMDD-HHMMSS-abcdef01 last 8 characters hex digits (.e., 4 random bytes). means reports automatically sort nicely ’ll collision resistance. run report, directory layout now looks like: Within drafts, directory example/20230621-105048-bd3a2cb5 created contains result running report. files: orderly.yml: exact copy input file script.R: exact copy script used analysis mygraph.png: artefact created report orderly_run.rds: metadata run includes hashes input files, data used, output etc, along details packages used state git. stored R’s internal data format. Every time report run create new directory level new id. Running report now might create directory example/20230621-105049-085007d6 store copies files run orderly even input files change can still easily get back previous versions inputs, alongside outputs, safe changes underlying source. can see list draft reports like : ’re happy report, “commit” step directory structure looks like: looks like previous, files moved within draft within archive. difference index orderly.sqlite created. machine-readable index orderly metadata can used build applications around orderly (example OrderlyWeb, web portal orderly - see “remotes” vignette). documentation database format available orderly website.","code":"id <- orderly::orderly_run(\"example\", root = path) ## [ info       ]  Writing initial orderly archive version as 1.1.25 ## [ name       ]  example ## [ id         ]  20230621-105048-bd3a2cb5 ## [ start      ]  2023-06-21 10:50:48 ##  ## > dat <- data.frame(x = 1:10, y = runif(10)) ##  ## > write.csv(dat, \"mydata.csv\", row.names = FALSE) ##  ## > png(\"mygraph.png\") ##  ## > plot(dat) ##  ## > dev.off() ## agg_png  ##       2 ## [ end        ]  2023-06-21 10:50:48 ## [ elapsed    ]  Ran report in 0.0185976 secs ## [ artefact   ]  mygraph.png: 4d7152b3aa39de3389a493eb4f2c5289 ## [ ...        ]  mydata.csv: 51b694edbb6be70835ef9e0fbd932e01 id ## [1] \"20230621-105048-bd3a2cb5\"  [01;34m. [0m ├──  [01;34marchive [0m ├──  [01;34mdraft [0m │   └──  [01;34mexample [0m │       └──  [01;34m20230621-105048-bd3a2cb5 [0m │           ├── mydata.csv │           ├──  [01;35mmygraph.png [0m │           ├── orderly.yml │           ├── orderly_run.rds │           └──  [32mscript.R [0m ├── orderly_config.yml └──  [01;34msrc [0m     └──  [01;34mexample [0m         ├── orderly.yml         └──  [32mscript.R [0m orderly::orderly_list_drafts(root = path) ##      name                       id ## 1 example 20230621-105048-bd3a2cb5 orderly::orderly_commit(id, root = path) ## [ commit     ]  example/20230621-105048-bd3a2cb5 ## [ copy       ] ## [ import     ]  example:20230621-105048-bd3a2cb5 ## [ success    ]  :) ## [1] \"/tmp/RtmpzlBf1Y/file3597c1dbe0b/archive/example/20230621-105048-bd3a2cb5\"  [01;34m. [0m ├──  [01;34marchive [0m │   └──  [01;34mexample [0m │       └──  [01;34m20230621-105048-bd3a2cb5 [0m │           ├── mydata.csv │           ├──  [01;35mmygraph.png [0m │           ├── orderly.yml │           ├── orderly_run.rds │           └──  [32mscript.R [0m ├──  [01;34mdraft [0m │   └──  [01;34mexample [0m ├── orderly.sqlite ├── orderly_config.yml └──  [01;34msrc [0m     └──  [01;34mexample [0m         ├── orderly.yml         └──  [32mscript.R [0m"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"creating-a-report","dir":"Articles","previous_headings":"","what":"Creating a report","title":"orderly","text":"First, run orderly::orderly_new create directory within src. name important contain spaces (change change key report id ’ll lose chain history), edit file orderly.yml within directory. results directory structure like:","code":"orderly::orderly_new(\"new\", root = path) ## Created report at '/tmp/RtmpzlBf1Y/file3597c1dbe0b/src/new' ## Edit the file 'orderly.yml' within this directory  [01;34m. [0m ├──  [01;34marchive [0m │   └──  [01;34mexample [0m │       └──  [01;34m20230621-105048-bd3a2cb5 [0m │           ├── mydata.csv │           ├──  [01;35mmygraph.png [0m │           ├── orderly.yml │           ├── orderly_run.rds │           └──  [32mscript.R [0m ├──  [01;34mdraft [0m │   └──  [01;34mexample [0m ├── orderly.sqlite ├── orderly_config.yml └──  [01;34msrc [0m     ├──  [01;34mexample [0m     │   ├── orderly.yml     │   └──  [32mscript.R [0m     └──  [01;34mnew [0m         └── orderly.yml"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"resources-sources-and-artefacts","dir":"Articles","previous_headings":"","what":"Resources, sources and artefacts","title":"orderly","text":"Resources report expected read-files used script produce report. Examples sort files used resources : Moderately sized data files (large datasets accessed database), markdown file used create report, Documentation report. “Resources” modified report; orderly detects resource changed error thrown. orderly automatically detect files named README.md report’s source directory copy new directory . “Sources” files containing R code sourced (via R function source()) main script run. Often file contains functions variables used main script. copying sourcing handled orderly need explicitly source files main script. “Artefacts” output report. least one artefact must listed files created running script must included artefacts (deleted script finishes) error returned. Examples artefacts fields orderly.yml: declaring artefact specify format artefact . Currently supported formats :data, report, staticgraph, interactivegraph interactivehtml. tags reflect intent use file, special meaning within orderly .","code":"resources:    - years.csv   - data_dictionary.xlsx   - report.Rmd   - code_documentation.md artefacts:   - report:       filenames: report.html       description: a simple report artefacts:   - report:       filenames: report.html       description: a simple report   - data:       description:         - associated data sets       filenames:         - data_one.csv         - data_two.csv         - data_three.csv         - data_four.csv"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"using-artefacts-from-other-reports","dir":"Articles","previous_headings":"","what":"Using artefacts from other reports","title":"orderly","text":"often case like write report depends earlier report, e.g. one report produces large dataset later report produces high level summary. orderly allows report directly copy artefact file existing report without manually copy report source directory. handled depends block report’s orderly.yml. use file dependency must explicitly listed artefact. simple example might look like: copy file huge-data-set.rds report big-data-report id 20190425-163691-b8451bbf rename data.rds. file can used report source directory. want report always use latest version report big-data-report can set id field latest, e.g.: find recent version report big-data-report copy files directory. use multiple artefacts single report add files use block e.g.: use artefacts multiple reports add multiple entries depends field e.g.: can also use artefact different versions report. might come want write report compares output different versions another report. yaml pattern : important feature example dashes report name. report names different dashes can omitted, necessary report depends different versions report. Since including dashes never cause problem omitting might, advise always included.","code":"depends:   - big-data-report:       id: 20190425-163691-b8451bbf       use:         data.rds: huge-data-set.rds depends:   - big-data-report:       id: latest       use:         data.rds: huge-data-set.rds depends:   - big-data-report:       id: latest       use:         data.rds: huge-data-set.rds         pop.csv: population_data.csv depends:   - big-data-report:       id: latest       use:         data.rds: huge-data-set.rds         pop.csv: population_data.csv   - report_two:       id: latest       use:         data_b.rds: filename.rds depends:   - big-data-report:       id: 20190425-163691-b8451bbf       use:         data_latest.rds: huge-data-set.rds   - big-data-report:       id: 20181225-172991-34c91ef1       use:         data_old: huge-data-set.rds"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"parameterised-reports","dir":"Articles","previous_headings":"","what":"Parameterised reports","title":"orderly","text":"Sometimes can useful control report runs parameter. name country analysis applies (though hope develop better interface soon) controlling number iterations analysis runs . Parameters declared orderly.yml like: declare report takes two parameters (default 1), b (default). Running report look like: parameters present environment report, code can use values b. parameters also interpolated SQL queries run, orderly.yml contains: evaluated SQL server substituted query says ?(done DBI::sqlInterpolate).","code":"parameters:   a:     default: 1   b: ~ orderly::orderly_run(\"reportname\", list(a = 10, b = 100)) data:   cars:     query: SELECT * FROM mtcars WHERE cyl > ?a"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"using-global-resources","dir":"Articles","previous_headings":"","what":"Using global resources","title":"orderly","text":"might files used (almost) every report. Examples sorts files might document templates organisation logos. set global resource create directory your_global_dir <root> following orderly_config.yml: use file your_global_dir report add global_resources field report’s orderly.yml: Currently code .e. R source code sourced global resources directory. example utility functions common across multiple reports must included report directory separately. functionality include global source code may added future versions.","code":"global_resources:   your_global_dir global_resources:   logo.jpg: org_logo.jpg   latex_class.cls: org_latex_class.cls   styles.css: org_styles.css"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"using-version-control","dir":"Articles","previous_headings":"","what":"Using version control","title":"orderly","text":"orderly designed work well git (version control system). general principle src/ configuration files added git, generated files (data, draft, archive, SQLite databases orderly.sqlite) excluded, can done creating .gitignore file. process can automated running (default, prompt = TRUE request user confirmation writing .gitignore file). arrange back entire orderly directory means. generated files particularly small might leave git, experience result git repository unpleasant use.","code":"orderly::orderly_use_gitignore(root = path, prompt = FALSE) ## Changes to '/tmp/RtmpzlBf1Y/file3597c1dbe0b/.gitignore' ##  1 | # These are directories where orderly stores (potentially large) ##  2 | # generated files - you definitely do not want these in git. ##  3 | data ##  4 | archive ##  5 | draft ##  6 | metadata ##  7 |  ##  8 | # Orderly will store data in a sqlite database, by default orderly.sqlite ##  9 | *.sqlite ## 10 |  ## 11 | # It is suggested to use environment variables, in either ## 12 | # orderly_envir.yml or .Renviron to store sensitive data to use with ## 13 | # orderly - keep those out of git ## 14 | .Renviron ## 15 | orderly_envir.yml ## 16 |  ## 17 | # Other good things to exclude ## 18 | .Rhistory ## 19 | .Rdata ## 20 | .Rproj.user ## 21 |  ## 22 | # Created by orderly.server ## 23 | runner ## 24 | backup ## Writing to '/tmp/RtmpzlBf1Y/file3597c1dbe0b/.gitignore'"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"using-sql-databases","dir":"Articles","previous_headings":"","what":"Using SQL databases","title":"orderly","text":"One original aims orderly provide set tools use SQL databases within reproducible reporting. SQL database external global resource difficult work concept “versioning” R (git history, way easily rolling back previous versions etc). using central SQL server, configuration kept analysis, particularly things like passwords. Configuration problems multiply using “production” “staging” systems like able switch different configurations.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"configuration","dir":"Articles","previous_headings":"Using SQL databases","what":"Configuration","title":"orderly","text":"root orderly_config.yml configuration specifies locations databases (can number), example: database referred elsewhere source connected RPostgres::Postgres driver (RPostgres package). Arguments within args block passed driver, case equivalent : values used args blocks can environment values (e.g., password: $DB_PASSWORD) case resolved environment connecting. useful keeping secrets source control. SQLite databases, args block typically contain dbname path database file.","code":"database:   source:     driver: RPostgres::Postgres     args:       host: dbhost.example.org       port: 5432       user: myusername       password: s3cret       dbname: mydb DBI::dbConnect(RPostgres::Postgres, host = \"dbhost.example.org\", port = 5432,                user = \"myusername\", password = \"s3cret\", dbname = \"mydb\")"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"use-within-a-report","dir":"Articles","previous_headings":"Using SQL databases","what":"Use within a report","title":"orderly","text":"report configuration (orderly.yml) can contain data block, contains sql queries, : case, query SELECT * mtcars cyl = 4 run source database create object cars report environment. actual report code can use object without ever created database connection evaluating query. , data used query captured orderly’s data directory, hashes data stored alongside results. means even data database constantly moving target can still detect changes data responsible changes result report.","code":"data:   cars:     query: SELECT * FROM mtcars WHERE cyl = 4     database: source"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"advanced-use","dir":"Articles","previous_headings":"Using SQL databases","what":"Advanced use","title":"orderly","text":"need perform complicated SQL queries, can export database connection directly adding block: save connection source database R object con. used report requires running queries loop depend results previous query additional data loaded report, result query large want save disk. Note reduces amount tracking orderly can , way knowing done connection passed script.","code":"connection:   con: source"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"customising-the-database-configuration","dir":"Articles","previous_headings":"Using SQL databases","what":"Customising the database configuration","title":"orderly","text":"contents orderly_config.yml may contain things like secrets (passwords) hostnames vary depending deployment (e.g., testing locally vs running remote system). customise , can use environment variables within configuration. rather writing might write environment variables, used way must begin dollar sign consist uppercase letters, numbers underscore character. can set environment variables .Renviron (either within project home directory) file .profile file. Alternatively, can create file orderly_envir.yml directory orderly_config.yml key-value pairs, read every time orderly_config.yml read (contrast .Renviron read-start session). likely pleasant work . advantage using environment variables can add orderly_envir.yml file .gitignore avoid committing system-dependent data central repository (see orderly::orderly_use_gitignore) help automate . avoid leaving passwords plain text, can use vault (along R client vaultr) retrieve . , include address vault server orderly_config.yml , values want retrieve vault, set value field VAULT:<path>:<field>, <path> name vault secret path (probably beginning /secret/ field name field path. , example: look field password path /secret/users/database_user. can stored orderly_config.yml, contents environment variable orderly_envir.yml (currently uses vault version 1 key-value storage) need control vault server accessed, can pass additional arguments within args block: equivalent connecting vault, using vaultr Environment variables respected write: username password found environment variables (actual secret resolution uses vaultr::vault_resolve_secrets - see documentation vaultr details).","code":"database:   source:     driver: RPostgres::Postgres     args:       host: localhost       port: 5432       user: myuser       dbname: databasename       password: p4ssw0rd database:   source:     driver: RPostgres::Postgres     args:       host: $MY_DBHOST       port: $MY_DBPORT       user: $MY_DBUSER       dbname: $MY_DBNAME       password: $MY_PASSWORD MY_DBHOST: localhost MY_DBPORT: 5432 MY_DBUSER: myuser MY_DBNAME: databasename MY_PASSWORD: p4ssw0rd vault:   addr: https://example.com:8200 password: VAULT:/secret/users/database_user:password vault:   addr: https://example.com:8200   login: userpass   username: alice   password: secret   mount: userpass vaultr::vault_client(addr = \"https://example.com:8200\", login = \"userpass\",                      username = \"alice\", password = \"secret\",                      mount = \"userpass\") vault:   addr: https://example.com:8200   login: userpass   username: $VAULT_USER   password: $VAULT_PASSWORD"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"advanced-database-configuration","dir":"Articles","previous_headings":"Using SQL databases","what":"Advanced database configuration","title":"orderly","text":"general, can ignore section use one global database. approach can used switch databases using different environmental variables, can become tiresome. multiple database “instances” corresponding different realisations logical database (e.g., production staging), can configure switch directly orderly commands. VIMC several copies main database: one called production, canonical copy, several staging copies use experimentation. configure situation, list common arguments within args block , add logical databases named entries instances field: - staging production different hostnames (production.example.org staging.example.org) different passwords (retrieved using environment variables) default instance set another environment variable ($DEFAULT_INSTANCE, must one production staging). switch databases, can set variable, pass instance argument orderly::orderly_run friends, : one database configured, interpretation instance little nuanced. example, suppose (abridged) database configuration: can pass string like production instance, e.g., source database select production instance instances configured extra database ignore argument connecting extra. However, databases two instances, : possible select different instances database, :","code":"database:   source:     driver: RPostgres::Postgres     args:       port: 5432       user: user       dbname: mydb     instances:       production:         host: production.example.org         password: $PASSWORD_PRODUCTION       staging:         host: staging.example.org         password: $PASSWORD_STAGING     default_instance: $DEFAULT_INSTANCE orderly::orderly_run(name, instance = \"production\") orderly::orderly_run(name, instance = \"staging\") database:   source:     driver: RPostgres::Postgres     args:       port: 5432     instances:       production:         host: production.example.org       staging:         host: staging.example.org     default_instance: staging   extra:     driver: RPostgres::Postgres     args:       port: 5432       host: extra.example.org orderly::orderly_run(name, instance = \"production\") database:   source:     driver: RPostgres::Postgres     args:       port: 5432     instances:       production:         host: production.example.org       staging:         host: staging.example.org     default_instance: staging   extra:     driver: RPostgres::Postgres     args:       port: 15432     instances:       production:         host: production.example.org       staging:         host: staging.example.org     default_instance: staging orderly::orderly_run(name,                       instance = c(source = \"production\", extra = \"staging\"))"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"using-environment-variables-and-secrets","dir":"Articles","previous_headings":"","what":"Using environment variables and secrets","title":"orderly","text":"Environment variables declared orderly.yml made available report script (since orderly 1.1.11). example, orderly.yml contains orderly evaluate variables make available script via specified name. example script can use expected use case data want use report want orderly repository (either sensitive particularly large). can external files somewhere else machine specify path via environment variable can accessed report script. Environment variables can also used top-level orderly_envir.yml (since orderly 1.1.6) can accessed via Sys.getenv(). example, orderly_envir.yml contains script can use values sensitive, ideal, store values plain text orderly_envir.yml. Instead, using vault, can use secrets: section orderly.yml, like: R variable password available code report, containing result looking /secret/myproject/login vault getting value field.","code":"environment:   external_file: EXTERNAL_FILE_PATH   variable_2: ENV_VAR_2 external_data <- read.csv(external_file) DATA_URL: https://www.example.com/thedata url <- Sys.getenv(\"DATA_URL\") download.file(url) secrets:   password: /secret/myproject/login:value"},{"path":"https://www.vaccineimpact.org/orderly/articles/orderly.html","id":"developing-a-report","dir":"Articles","previous_headings":"","what":"Developing a report","title":"orderly","text":"orderly works directory source directory (e.g., draft/myreport/YYYYMMDD-HHMMSS-abcdefgh), global resources dependencies etc copied just used, orderly takes control things like parameters sourcing files, may seem straightforward develop report ordinarily. order make easier, orderly set functions help develop report within source directory. functions : orderly::orderly_develop_start copies files source copy orderly::orderly_develop_status reports status source orderly::orderly_develop_clean cleans files orderly copied section illustrates idea, creating new report depend artefact previous report. state orderly tree : new report orderly.yml containing order run report, need file data.csv (contains output mydata.csv latest version example report) exist. wanted interactively develop script.R ’d run orderly::orderly_run repeatedly, annoying - impractical report slow run. can run instead: copies required artefact can change directory (using something like setwd(\"src/new\")) start working report directly. can see status directory running (output object likely change future versions), shows data.csv present, derived - means orderly knows persist source tree. Files marked derived TRUE liable deletion orderly::orderly_develop_clean. output also shows mean.txt present. changed directly path development (via setwd(file.path(path, \"src/new\"))) can omit arguments simply call can run script normal R script: (code assuming within src/new report) data.csv present newer version upstream dependency become available, can update file running orderly::orderly_develop_start() (note updated data.csv use new id 20230621-105050-7f4d9ff1). Finally, can delete files orderly copied source tree: (function also accepts name root , required working source directory)","code":" [01;34m. [0m ├──  [01;34marchive [0m │   └──  [01;34mexample [0m │       └──  [01;34m20230621-105048-bd3a2cb5 [0m │           ├── mydata.csv │           ├──  [01;35mmygraph.png [0m │           ├── orderly.yml │           ├── orderly_run.rds │           └──  [32mscript.R [0m ├──  [01;34mdraft [0m │   └──  [01;34mexample [0m ├── orderly.sqlite ├── orderly_config.yml └──  [01;34msrc [0m     ├──  [01;34mexample [0m     │   ├── orderly.yml     │   └──  [32mscript.R [0m     └──  [01;34mnew [0m         ├── orderly.yml         └──  [32mscript.R [0m script: script.R  artefacts:   - staticgraph:       description: Mean of the values       filenames: mean.txt  depends:   example:     id: latest     use:       data.csv: mydata.csv orderly::orderly_develop_start(\"new\", root = path) ## [ name       ]  new ## [ depends    ]  example@20230621-105048-bd3a2cb5:mydata.csv -> data.csv orderly::orderly_develop_status(\"new\", root = path) ##      filename       type present derived ## 1 orderly.yml    orderly    TRUE   FALSE ## 2    script.R     script    TRUE   FALSE ## 3    data.csv dependency    TRUE    TRUE ## 4    mean.txt   artefact   FALSE    TRUE orderly::orderly_develop_status() ##      filename       type present derived ## 1 orderly.yml    orderly    TRUE   FALSE ## 2    script.R     script    TRUE   FALSE ## 3    data.csv dependency    TRUE    TRUE ## 4    mean.txt   artefact   FALSE    TRUE source(\"script.R\", echo = TRUE) ##  ## > data <- read.csv(\"data.csv\") ##  ## > writeLines(as.character(mean(data$y)), \"mean.txt\") orderly::orderly_develop_status() ##      filename       type present derived ## 1 orderly.yml    orderly    TRUE   FALSE ## 2    script.R     script    TRUE   FALSE ## 3    data.csv dependency    TRUE    TRUE ## 4    mean.txt   artefact    TRUE    TRUE id <- orderly::orderly_run(\"example\", root = path) ## [ name       ]  example ## [ id         ]  20230621-105050-7f4d9ff1 ## [ start      ]  2023-06-21 10:50:50 ##  ## > dat <- data.frame(x = 1:10, y = runif(10)) ##  ## > write.csv(dat, \"mydata.csv\", row.names = FALSE) ##  ## > png(\"mygraph.png\") ##  ## > plot(dat) ##  ## > dev.off() ## agg_png  ##       2 ## [ end        ]  2023-06-21 10:50:50 ## [ elapsed    ]  Ran report in 0.01168251 secs ## [ artefact   ]  mygraph.png: a9f715b3919f48edeaeea649d1693408 ## [ ...        ]  mydata.csv: 9a8ea34959eb8172fd19dd78367d6cf9 orderly::orderly_commit(id, root = path) ## [ commit     ]  example/20230621-105050-7f4d9ff1 ## [ copy       ] ## [ import     ]  example:20230621-105050-7f4d9ff1 ## [ success    ]  :) ## [1] \"/tmp/RtmpzlBf1Y/file3597c1dbe0b/archive/example/20230621-105050-7f4d9ff1\" orderly::orderly_develop_start() ## [ name       ]  new ## [ depends    ]  example@20230621-105050-7f4d9ff1:mydata.csv -> data.csv orderly::orderly_develop_clean() ## [ remove     ]  data.csv ## [ ...        ]  mean.txt orderly::orderly_develop_status() ##      filename       type present derived ## 1 orderly.yml    orderly    TRUE   FALSE ## 2    script.R     script    TRUE   FALSE ## 3    data.csv dependency   FALSE    TRUE ## 4    mean.txt   artefact   FALSE    TRUE"},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"individual-researcher","dir":"Articles","previous_headings":"","what":"Individual researcher","title":"orderly patterns","text":"simplest pattern, one orderly fewest opinions . imagine single researcher using orderly keep track set analyses. configure orderly empty orderly_config.yml, probably add archive .gitignore (drafts always gitignored). researcher develops reports, create new directories src/ using orderly::orderly_new(), run reports system using orderly::orderly_run() commit archive using orderly::orderly_commit(). researcher needs take care reports run clean R session, objects packages R’s global execution environment available reports. researcher wants share report someone else, orderly opinion , free email file, share whatever manner prefer. researcher may still quote report id (e.g., 20200315-100734-10e3de8a) way easily able get back version report sent, along source files resources. Backup responsibility researcher; computer backed , archive lives service like Dropbox OneDrive, may sufficient.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"why-not-commit-the-archive-to-git","dir":"Articles","previous_headings":"Individual researcher","what":"Why not commit the archive to git?","title":"orderly patterns","text":"reports small, may work . However, git becomes slow use many large files added , hosting platforms, including GitHub prevent addition files certain size may complain overall repositories reaching certain size. Cloning source tree become increasingly painful, may become wary even running report impact may problems. opinion, store archive outside git use alternative method back distribute .","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"small-group-sharing-via-shared-disk","dir":"Articles","previous_headings":"","what":"Small group, sharing via shared disk","title":"orderly patterns","text":"soon one person involved, things get tricky. need ensure everybody view set archive reports, source tree, yet can work work somewhat independently. researchers use common “source tree” version control git, kept GitHub. Nobody may commit master changes master introduced via “Pull Request” (hosted source control platforms equivalents, example GitLab merge requests). Everybody cloned locally, git repository include archive draft. setup easy ensure different members team looking source code, orderly track part metadata (git’s branch, sha status). However, still must synchronise reports run. course everyone can run copy report build poses several potential problems: report non-deterministic, results likely differ runs report depends external data source (SQL database, web resource, etc) results may differ underlying package versions changed, results may differ report long-running, time-consuming everyone end different report id, difficult know ’re looking “effective” report results shared want particular version report run, easy people start depending . achieve need method getting archive one person’s computer another. discussion assume two researchers “Alice” “Bob” (rather “Researcher ” “Researcher B”). Alice develops report report-computer running orderly::orderly_new(\"report-\") working orderly::orderly_develop_start() orderly::orderly_run() happy results. creates pull request, Bob approves (probably checking report runs machine ) merges . Now report merged master need run “canonical copy”. third copy sources checked somewhere accessible Alice Bob; might using Dropbox another file-sharing platform, network drive visible users. Either Alice Bob may now pull new changes onto new source copy, run orderly run report-command line. Using command-line version orderly ensures report run clean session, along keeping copy log alongside outputs. Now Alice Bob able get source report-shared archive copy ; get Alice Bob? need edit orderly_config.yml tell archive: tells orderly use file-based remote source (.e., shared copy orderly) path source determined Environment variable ORDERLY_PATH_DEFAULT_REMOTE. Using environment variable necessary path certainly differ Alice Bob. fill environment variable create file orderly_envir.yml (added .gitignore) containing path shared source. Alice, might look like Bob might look like done, Bob can get copy report-running copy latest version report shared archive personal archive. point, Bob exactly copy report-run shared archive. way Alice Bob can exchange git sha hashes ensure version source tree, can now exchange report ids ensure looking output. working report dependency (say report-b, depends report-), can automatically pull dependencies running especially useful report-b many dependencies, depends particular versions report.","code":"remote:   default:     driver: orderly::orderly_remote_path     args:       path: $ORDERLY_PATH_DEFAULT_REMOTE ORDERLY_PATH_DEFAULT_REMOTE: /Users/alice/Dropbox/our-project ORDERLY_PATH_DEFAULT_REMOTE: c:/Bob/Documents/Dropbox/our-project orderly::orderly_pull_archive(\"report-a\") orderly::orderly_pull_dependencies(\"report-b\")"},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"some-comments-on-collaboration","dir":"Articles","previous_headings":"Small group, sharing via shared disk","what":"Some comments on collaboration","title":"orderly patterns","text":"number features system might obvious first, aid collaboration. report exists directory within src/ reduce potential conflicts. collaborative analysis multiple files shared across analyses, easy conflicts. orderly forces analyses separate directories, means time trivial merge even long-lived branches. particularly important relatively new users git. every report gets unique identifier, straightforward combine outputs run different machines. example centralised system (one canonical source, several destinations) theory complicated distributed patterns possible. central server, archive directory “append ” system; nothing ever modified. seems wasteful first can lots copies report, disk space cheaper researcher time (can remove redundancy orderly::orderly_deduplicate)","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"group-of-researchers-sharing-via-server","dir":"Articles","previous_headings":"","what":"Group of researchers, sharing via server","title":"orderly patterns","text":"model use within MRC Centre Global Infectious Disease Analysis, require considerably setup, also reliability flexibility. , use single “source tree”, kept GitHub similar. However, someone group takes responsibility setting copy OrderlyWeb, open source, self-hosted orderly server. OrderlyWeb server software provides number things persistent copy R running orderly can run reports needed web server exposes user-friendly web portal showing versions orderly reports HTTP API (application written Kotlin) reverse proxy used secure application https diagram may help show pieces fit together. OrderlyWeb deployed onto orderly.example.com, might declare orderly_config.yml done, Alice Bob can run reports server, example  print screen log, just running locally, though fact running fresh R session remotely. run, report available everyone can pulled ","code":"remote:   default:     driver: orderlyweb::orderlyweb_remote     args:       host: orderly.example.com       token: $GITHUB_TOKEN orderly::orderly_run_remote(\"internal-2017-population-TUV-MHL\", remote = \"science\") orderly::orderly_pull_archive(\"report-a\", remote = \"default\")"},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"using-staging-environments","dir":"Articles","previous_headings":"","what":"Using staging environments","title":"orderly patterns","text":"can extended use “staging environments”. extends (two) scenario multiple remote orderly archives. might shared file archives, using orderly::orderly_remote_path server hosted archives using orderlyweb::orderlyweb_remote even combination. designate one remotes production environment others staging. work used name pairs production/science real/testing; names used matter. orderly_config.yml configuration might look like: Now, part pull request review procedure, reviewer run report staging environment, means work without error production environment set way. myfeature name branch. report can now inspected (URL generated may emailed around), merged, report can run production server recommend production server master used. can enforced adding master_only: true configuration :","code":"remote:   staging:     driver: orderlyweb::orderlyweb_remote     args:       host: orderly.example.com       port: 11443       token: $GITHUB_TOKEN   production:     driver: orderlyweb::orderlyweb_remote     args:       host: orderly.example.com       token: $GITHUB_TOKEN orderly::orderly_run_remote(\"report-a\", remote = \"staging\", ref = \"origin/myfeature\") orderly::orderly_run_remote(\"report-a\", remote = \"production\") remote:   production:     driver: orderlyweb::orderlyweb_remote     master_only: true     args:       ..."},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"dependency-resolution","dir":"Articles","previous_headings":"","what":"Dependency resolution","title":"orderly patterns","text":"soon multiple archives, resolving dependencies becomes challenging. Alice two reports depend , might want use recent versions machine, recent versions seen one remotes report eventually run. allow , running orderly::orderly_run, Alice can provide argument remote, indicating remotes like use dependency resolution. Now, even recent copies dependencies locally, report use copies used server chooses. local copies remote reports downloaded computer report run.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/patterns.html","id":"looking-forward-a-fully-decentralised-approach","dir":"Articles","previous_headings":"","what":"Looking forward, a fully decentralised approach","title":"orderly patterns","text":"additional development orderly, work patterns possible, including decentralised approach. might like set known “good” archives, partially overlapping source trees, archives depend data sources come orderly archives even present source tree. support , can network orderly servers can exchange sub-trees amongst . fashion, can imagine following things possible common data processing “reports” described one orderly source tree, used reports several sources trees orderly “runners” available HPC platforms, making easy reliably run demanding reports larger infrastructure incorporate back “canonical” archive (see orderly bundles one approach ) Allow distributed teams researchers intermittent access synchronise trees outputs, eventually becoming consistent lower-level support patterns available, implementing orderly necessarily hard - just found need yet. interest please get touch.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/remote.html","id":"orderlyweb","dir":"Articles","previous_headings":"","what":"OrderlyWeb","title":"orderly remotes","text":"OrderlyWeb server software provides number things persistent copy R running orderly can run reports needed using orderly.server::orderly_runner function web server exposes user-friendly web portal showing versions orderly reports http api (application written Kotlin) reverse proxy used secure application https diagram may help show pieces fit together Getting OrderlyWeb installed requires little work, need access appropriate server running docker, python-based deployment tool, TLS certificates server using. recommend using vault storing certificates secrets used deployment. OrderlyWeb use GitHub authentication, setup described .","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/remote.html","id":"configuring-orderly-to-talk-to-orderlyweb","dir":"Articles","previous_headings":"","what":"Configuring orderly to talk to OrderlyWeb","title":"orderly remotes","text":"OrderlyWeb running, can tell orderly adding appropriate setting orderly_config.yml file. example, one testing one production instance $GITHUB_TOKEN environment variable holds GitHub token “user” scope. testing remote listed first, default one used remote-using command.","code":"remote:   testing:     driver: orderlyweb::orderlyweb_remote     args:       host: testing.example.com       port: 443       token: $GITHUB_TOKEN   production:     driver: orderlyweb::orderlyweb_remote     args:       host: production.example.com       port: 443       token: $GITHUB_TOKEN"},{"path":"https://www.vaccineimpact.org/orderly/articles/remote.html","id":"interacting-with-the-remote-server","dir":"Articles","previous_headings":"","what":"Interacting with the remote server","title":"orderly remotes","text":"Several commands can interact remote server: orderly::orderly_run_remote run report remote server, committing immediately. save log alongside report. orderly::orderly_pull_archive pull version report remote server orderly::orderly_pull_dependencies pull dependencies report remote server (.e., versions reports declared depends: section report)","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/remote.html","id":"future-developments","dir":"Articles","previous_headings":"","what":"Future developments","title":"orderly remotes","text":"hope system become easier deploy future. use internally two projects orderly archives hold gigabytes analyses, evolved meet needs. think might work can’t get started, please get touch.","code":""},{"path":"https://www.vaccineimpact.org/orderly/articles/remote.html","id":"deploying-a-remote-server","dir":"Articles","previous_headings":"","what":"Deploying a remote server","title":"orderly remotes","text":"recommend using HashiCorp’s vault storing secrets (several used ), tooling designed make easy. need set /gather things beforehand: SSL certificate private key reverse proxy; example stored certificate vault orderly source repository private, create deploy key read-access repository, add vault also Create OAuth app, following instructions , somewhat better instructions Create docker image wanted R packages external software; image based vimc/orderly.server:master, example Dockerfile coronavirus response push accessible location (either docker hub private registry). can initially skip step just use vimc/orderly.server:master set built-packages limited Create orderly-web configuration; see example highly annotated example. somewhat stripped version looks like: need install orderly-web deployment scripts PyPi done, running bring everything !","code":"vault:   addr: https://vault.dide.ic.ac.uk:8200   auth:     method: github  container_prefix: orderly_web network: orderlyweb_nw  volumes:   orderly: orderly_volume   proxy_logs: orderlyweb_proxy_logs   css: orderlywebweb_css  orderly:   image:     repo: yourorg     name: orderly     tag: latest   initial:     source: clone     url: git@github.com:yourorg/orderly-reports   ssh:     public: VAULT:secret/deploy-key:public     private: VAULT:secret/deploy-key:private  web:   image:     repo: vimc     name: orderly-web     tag: master     migrate: orderlyweb-migrate     admin: orderly-web-user-cli     css-generator: orderly-web-css-generator   url: https://orderly.example.com   dev_mode: false   port: 8888   name: Outputs   email: you@example.com   auth:     github_org: yourorg     github_team: yourteam     github_oauth:       id: VAULT:secret/oauth/real:id       secret: VAULT:secret/oauth/real:secret     fine_grained: false     montagu: false  proxy:   enabled: true   ssl:     certificate: VAULT:secret/proxy/ssl_certificate:value     key: VAULT:secret/ncov/ssl_private_key:value   hostname: ncov.dide.ic.ac.uk   port_http: 80   port_https: 443   image:     repo: vimc     name: orderly-web-proxy     tag: master pip3 install --user orderly-web orderly-web start ."},{"path":"https://www.vaccineimpact.org/orderly/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rich FitzJohn. Author, maintainer. Robert Ashton. Author. Alex Hill. Author. Martin Eden. Author. Wes Hinsley. Author. Emma Russell. Author. James Thompson. Author. Imperial College Science, Technology Medicine. Copyright holder.","code":""},{"path":"https://www.vaccineimpact.org/orderly/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"FitzJohn R, Ashton R, Hill , Eden M, Hinsley W, Russell E, Thompson J (2023). orderly: Lightweight Reproducible Reporting. https://www.vaccineimpact.org/orderly/, https://github.com/vimc/orderly.","code":"@Manual{,   title = {orderly: Lightweight Reproducible Reporting},   author = {Rich FitzJohn and Robert Ashton and Alex Hill and Martin Eden and Wes Hinsley and Emma Russell and James Thompson},   year = {2023},   note = {https://www.vaccineimpact.org/orderly/, https://github.com/vimc/orderly}, }"},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"orderly","dir":"","previous_headings":"","what":"Lightweight Reproducible Reporting","title":"Lightweight Reproducible Reporting","text":"attendant hospital responsible non-medical care patients maintenance order cleanliness. soldier carries orders performs minor tasks officer. orderly package designed help make analysis reproducible. principal aim automate series basic steps process writing analyses, making easy : track inputs analysis (packages, code, data resources) store multiple versions analysis repeated track outputs analysis create analyses depend outputs previous analyses orderly two main hopes: analysts can write code straightforwardly run someone else’s machine (remote machine) analysis run several times starts behaving differently easy see outputs started changing, inputs started changing time orderly requires conventions around organisation project, tries keep way. However, requirements designed make collaborative development git easier minimising conflicts making backup easier using append-storage system.","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"the-problem","dir":"","previous_headings":"","what":"The problem","title":"Lightweight Reproducible Reporting","text":"One often-touted goal R point--click analyses packages analysis scripted reproducible. However, essentially analyses depend external resources - packages, data, code, R ; change external resources might change results. Preventing changes external resources always possible, tracking changes straightforward - need know used. example, reproducible research become synonymous literate programming approach often increases number external resources. typical knitr document depend : source file (.Rmd .Rnw) templates used styling data read analysis code directly read source orderly package helps collecting external resources analysis ensuring required external resources identified removing manual work tracking information external resources allowing running reports multiple times making easy see changed core problem analyses general interface. Consider contrast role functions take programming. functions set arguments (inputs) return value (outputs). orderly, borrow idea, piece analysis require user describes needed produced.","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"the-process","dir":"","previous_headings":"","what":"The process","title":"Lightweight Reproducible Reporting","text":"user describes inputs analysis, including: SQL queries (using databases) Required R sources External resource files (e.g., csv data files, Rmd files, templates) Packages required run analysis Dependencies previously run analyses user also provides list “artefacts” (file-based results) produce. orderly: creates new empty directory copies declared file resources loads declared packages loads declared R sources evaluates sql queries create R objects runs analysis verifies declared artefacts produced stores metadata alongside analysis including hashes inputs outputs, copies data extracted database, record R packages loaded end session, (using git) information git state (hash, branch status). one dependencies report changes (used data, code, etc), metadata can queried identify likely source change.","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"workflows-with-orderly","dir":"","previous_headings":"","what":"Workflows with orderly","title":"Lightweight Reproducible Reporting","text":"MRC Centre Global Infectious Disease Analysis use orderly three major projects: Vaccine Impact Modelling Consortium part response 2018-2020 Ebola outbreak Democratic Republic Congo part response 2019-2020 2019-nCoV-SARS/COVID-19 pandemic workflows developed oriented towards collaborative groups researchers - workflows possible (indeed orderly also designed support decentralised workflow, though used practice yet). projects group researchers develop test analyses locally. developed branch git run centralised staging environment (duplicate production environment). code outputs reviewed help GitHub’s “Pull requests” reports run production environment. Interaction remote environments achieved using HTTP API orderly transparently uses, reports can run remotely, directly R. remote systems also include interactive web interface can used explore download versions analyses, well run new ones.","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"internal-database-schema","dir":"","previous_headings":"","what":"Internal database schema","title":"Lightweight Reproducible Reporting","text":"orderly database, preferred way querying report archive programs. schema programmatically described inst/database/schema.yml automatically generated database documentation available .","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"Lightweight Reproducible Reporting","text":"set regression tests require reference data. Enable running script ./scripts/copy_reference creates data tests/testthat/reference","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"rstudio-addins","dir":"","previous_headings":"","what":"RStudio addins","title":"Lightweight Reproducible Reporting","text":"addins available help development workflows. See docs orderly.rstudio setup usage instructions.","code":""},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Lightweight Reproducible Reporting","text":"Install orderly CRAN install internally released version (might ahead CRAN) via drat, use","code":"install.packages(\"orderly\") # install.packages(\"drat\") drat:::add(\"vimc\") install.packages(\"orderly\")"},{"path":"https://www.vaccineimpact.org/orderly/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Lightweight Reproducible Reporting","text":"MIT © Imperial College Science, Technology Medicine","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a batch of reports. — orderly_batch","title":"Run a batch of reports. — orderly_batch","text":"Run one report multiple times different sets parameters.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a batch of reports. — orderly_batch","text":"","code":"orderly_batch(name = NULL, parameters = NULL, continue_on_error = TRUE, ...)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a batch of reports. — orderly_batch","text":"name Name report run (see orderly_list()).  leading src/ removed provided, allowing easier use autocomplete. Alternatively, default NULL useful already set working directory source directory. parameters Data frame parameters passed report. row represents parameter set passed one report run. continue_on_error FALSE one report run fails function attempt run subsequent reports batch. TRUE subsequent parameter sets run. report run fails preparation e.g. missing parameters error stop subsequent parameter sets. ... Additional args passed orderly_run()","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_batch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a batch of reports. — orderly_batch","text":"List ids newly created reports","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_batch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a batch of reports. — orderly_batch","text":"","code":"path <- orderly::orderly_example(\"demo\") params <- data.frame(nmin = c(0.2, 0.25)) ids <- orderly::orderly_batch(\"other\", params, root = path) #> [ name       ]  other #> [ id         ]  20230621-105024-11957500 #> [ id_file    ]  /tmp/RtmpGRuIRx/file476b86bddc #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0.2 #> [ start      ]  2023-06-21 10:50:24 #> [ data       ]  source => extract: 19 x 2 #> [ parameter  ]  nmin: 0.2 #>  #> > extract$number <- extract$number + rnorm(1) #>  #> > write.csv(extract, \"summary.csv\", row.names = TRUE) #>  #> > png(\"graph.png\") #> Warning: unable to load shared object '/usr/local/lib/R/modules//R_X11.so': #>   libXt.so.6: cannot open shared object file: No such file or directory #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > do_plot(extract) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:24 #> [ elapsed    ]  Ran report in 0.05895948 secs #> [ artefact   ]  summary.csv: 08a4566d063098080bfd318f675926f2 #> [ ...        ]  graph.png: 9d98e56ce7726a1523c1b03eb0e4efb4 #> [ name       ]  other #> [ id         ]  20230621-105024-2bd4f97d #> [ id_file    ]  /tmp/RtmpGRuIRx/file472f45e24d #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0.25 #> [ start      ]  2023-06-21 10:50:24 #> [ data       ]  source => extract: 19 x 2 #> [ parameter  ]  nmin: 0.25 #>  #> > extract$number <- extract$number + rnorm(1) #>  #> > write.csv(extract, \"summary.csv\", row.names = TRUE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > do_plot(extract) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:24 #> [ elapsed    ]  Ran report in 0.121531 secs #> [ artefact   ]  summary.csv: 96f402853ce06d5ef44a98c9cdb67573 #> [ ...        ]  graph.png: f6870aa327d5504aa4bfded46f169df6"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack.html","id":null,"dir":"Reference","previous_headings":"","what":"Pack and run orderly ","title":"Pack and run orderly ","text":"Pack run orderly reports run elsewhere. using functions can safely copy requirements orderly report portable archive run another machine (perhaps cluster HPC), import completed archive orderly tree. considerable overhead using functions (mostly due transport costs) intended primarily computationally demanding patterns.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pack and run orderly ","text":"","code":"orderly_bundle_pack(   path,   name,   parameters = NULL,   envir = NULL,   root = NULL,   locate = TRUE,   message = NULL,   instance = NULL,   remote = NULL,   tags = NULL )  orderly_bundle_run(path, workdir = tempfile(), echo = TRUE, envir = NULL)  orderly_bundle_import(path, root = NULL, locate = TRUE)  orderly_bundle_list(path)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pack and run orderly ","text":"path path, whose interpretation depends function: orderly_bundle_pack: directory save bundles .  exist created . orderly_bundle_run: path packed bundle (zip file created orderly_bundle_pack) orderly_bundle_import: path unpack import (zip file created orderly_bundle_run) orderly_bundle_list: path directory might contain either incomplete complete bundles (created either orderly_bundle_pack orderly_bundle_run) name Name report pack (see orderly_list().  leading src/ removed provided, allowing easier use autocomplete. parameters Parameters passed report. named list parameters declared orderly.yml.  parameter must scalar character, numeric, integer logical. envir parent environment used evaluate report script; default new environment made global environment parent. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. message optional character string containing message explaining report run instance Select instance source database used, multiple instances configured.  Use single unnamed character string indicate instance match.  given, name must present databases instances listed orderly_config.yml, ignored database instances given.  See \"orderly\" vignette information. remote Remote use resolve dependencies.  Use order run report dependencies available remote server, particularly using id = \"latest\".  Note running orderly_pull_dependencies(), orderly_run remote = NULL, pull/run approach use latest report archive remote = \"remote\" approach use latest approach remote archive (might less recent). tags Character vector tags add report.  Tags immutable removed report run. Tags added addition tags listed tags: field orderly.yml must present orderly_config.yml. workdir path run bundles.  exist created .  completed bundle saved directory <id>.zip. echo Print result running R code console","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pack and run orderly ","text":"orderly_bundle_pack orderly_bundle_run, list elements path (path bundle) id (orderly id).  orderly_bundle_list data.frame key information report bundles (id, name, parameters, status, time).  function orderly_bundle_import called side effect return anything useful.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pack and run orderly ","text":"","code":"path <- orderly::orderly_example(\"minimal\")  # A working directory to export bundles to: workdir <- tempfile()  # Pack up the \"example\" report to go: res <- orderly::orderly_bundle_pack(workdir, \"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105024-920cdc5c #> [ start      ]  2023-06-21 10:50:24 #> [ data       ]  source => dat: 20 x 2 #> [ bundle pack ]  20230621-105024-920cdc5c  # The return value is a list with the id and the path to the zip # file created: res #> $id #> [1] \"20230621-105024-920cdc5c\" #>  #> $path #> [1] \"/tmp/RtmpGRuIRx/file471bb49bc8/20230621-105024-920cdc5c.zip\" #>   # A list of reports bundled in this directory and their status orderly::orderly_bundle_list(workdir) #>                         id    name parameters     status                time #> 1 20230621-105024-920cdc5c example            incomplete 2023-06-21 10:50:24  # Run the bundle (this would ordinarily be done on another computer) zip <- orderly::orderly_bundle_run(res$path, workdir) #> [ start      ]  2023-06-21 10:50:24 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:24 #> [ elapsed    ]  Ran report in 0.0115788 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 zip #> $id #> [1] \"20230621-105024-920cdc5c\" #>  #> $path #> [1] \"/tmp/RtmpGRuIRx/file471bb49bc8/20230621-105024-920cdc5c.zip\" #>  #> $filename #> [1] \"20230621-105024-920cdc5c.zip\" #>   # The status has now been updated to reflect the status orderly::orderly_bundle_list(workdir) #>                         id    name parameters   status                time #> 1 20230621-105024-920cdc5c example            complete 2023-06-21 10:50:24  # We can import this into the orderly tree orderly::orderly_bundle_import(zip$path, root = path) #> [ import     ]  example:20230621-105024-920cdc5c  # This has now been included in your orderly archive and the # workdir can be safely deleted unlink(workdir, recursive = TRUE) orderly::orderly_list_archive(path) #>      name                       id #> 1 example 20230621-105024-920cdc5c"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack_remote.html","id":null,"dir":"Reference","previous_headings":"","what":"Pack and import bundles with remotes — orderly_bundle_pack_remote","title":"Pack and import bundles with remotes — orderly_bundle_pack_remote","text":"Pack bundle remote. like calling orderly_bundle_pack() remote can used extract long-running report server run (say) HPC system.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack_remote.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pack and import bundles with remotes — orderly_bundle_pack_remote","text":"","code":"orderly_bundle_pack_remote(   name,   parameters = NULL,   instance = NULL,   root = NULL,   locate = TRUE,   remote = NULL,   dest = tempdir() )  orderly_bundle_import_remote(path, root = NULL, locate = TRUE, remote = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack_remote.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pack and import bundles with remotes — orderly_bundle_pack_remote","text":"name Name report pack (see orderly_list().  leading src/ removed provided, allowing easier use autocomplete. parameters Parameters passed report. named list parameters declared orderly.yml.  parameter must scalar character, numeric, integer logical. instance Select instance source database used, multiple instances configured.  Use single unnamed character string indicate instance match.  given, name must present databases instances listed orderly_config.yml, ignored database instances given.  See \"orderly\" vignette information. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. remote remote pack bundle , import dest Optional path write bundle (directory name). default use temporary directory return full path created file. path path unpack import (zip file created orderly_bundle_run)","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_bundle_pack_remote.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pack and import bundles with remotes — orderly_bundle_pack_remote","text":"workflow typically : Use orderly_bundle_pack_remote() create local copy bundle, extracted remote. Typically run system bundle run (HPC head-node another powerful computer). Run bundle using orderly_bundle_run() Re-import completed bundle using orderly_bundle_import_remote sends zip file remote adds archive. Typically commands run orderly root. However, root argument may still used find remote configuration. Alternatively, remote argument orderly remote (e.g., orderly_remote_path(), orderlyweb's orderlyweb::orderlyweb_remote) root locate arguments ignored command can run anywhere. recommended configuration running HPC system.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cancel_remote.html","id":null,"dir":"Reference","previous_headings":"","what":"Cancel a report — orderly_cancel_remote","title":"Cancel a report — orderly_cancel_remote","text":"action depend status report: queued - report run deleted running - report run cancelled complete/errored - effect","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cancel_remote.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cancel a report — orderly_cancel_remote","text":"","code":"orderly_cancel_remote(keys, root = NULL, locate = TRUE, remote = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cancel_remote.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cancel a report — orderly_cancel_remote","text":"keys key keys reports cancel root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. remote Description location.  Typically character string indicating remote specified remotes block orderly_config.yml.  also possible pass directly created remote object (e.g., using orderly_remote_path(), one provided another package).  left NULL, default remote orderly repository used - default first listed remote.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cancel_remote.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cancel a report — orderly_cancel_remote","text":"List names report keys values lists containing killed - boolean TRUE report successfully cancelled, FALSE otherwise message - string detailing reason cancellation failed","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cleanup.html","id":null,"dir":"Reference","previous_headings":"","what":"Orderly cleanup — orderly_cleanup","title":"Orderly cleanup — orderly_cleanup","text":"Clean orderly draft data directories.  Deletes drafts (possibly just set report names) deletes dangling data sets pointed draft committed reports.  Running cleanup affect reports committed orderly_commit() (.e., contents archive/ directory).","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cleanup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Orderly cleanup — orderly_cleanup","text":"","code":"orderly_cleanup(   name = NULL,   root = NULL,   locate = TRUE,   draft = TRUE,   data = TRUE,   failed_only = FALSE )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cleanup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Orderly cleanup — orderly_cleanup","text":"name Optional name; case clean drafts name root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. draft Logical, indicating drafts removed data Logical, indicating dangling data removed (data used draft archived report). failed_only Delete failed reports (without end--run metadata).  also clean drafts created orderly_test_start()","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cleanup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Orderly cleanup — orderly_cleanup","text":"return value, function called side effects","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_cleanup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Orderly cleanup — orderly_cleanup","text":"","code":"# In a new example orderly, run two reports and commit only the # second one: path <- orderly::orderly_example(\"minimal\") id1 <- orderly::orderly_run(\"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105025-7725293e #> [ start      ]  2023-06-21 10:50:25 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:25 #> [ elapsed    ]  Ran report in 0.01623964 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 id2 <- orderly::orderly_run(\"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105025-83ad7397 #> [ start      ]  2023-06-21 10:50:25 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:25 #> [ elapsed    ]  Ran report in 0.01527786 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 orderly::orderly_commit(id2, root = path) #> [ commit     ]  example/20230621-105025-83ad7397 #> [ copy       ] #> [ import     ]  example:20230621-105025-83ad7397 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file476afa7968/archive/example/20230621-105025-83ad7397\"  # We now have one draft and one archive report: orderly::orderly_list_drafts(root = path) #>      name                       id #> 1 example 20230621-105025-7725293e orderly::orderly_list_archive(root = path) #>      name                       id #> 1 example 20230621-105025-83ad7397  # To clean up the drafts: orderly::orderly_cleanup(root = path) #> [ clean      ]  Found 1 draft report #> [ clean      ]  /tmp/RtmpGRuIRx/file476afa7968/draft/example/20230621-105025-7725293e #> [ clean      ]  Found 0 csv files #> [ clean      ]  Found 0 rds files  # We now have no draft and one archive reports: orderly::orderly_list_drafts(root = path) #> [1] name id   #> <0 rows> (or 0-length row.names) orderly::orderly_list_archive(root = path) #>      name                       id #> 1 example 20230621-105025-83ad7397"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_commit.html","id":null,"dir":"Reference","previous_headings":"","what":"Commit a generated report — orderly_commit","title":"Commit a generated report — orderly_commit","text":"Commit generated report, moving draft/ directory archive/ updating orderly index.  committed, reports deleted.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_commit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Commit a generated report — orderly_commit","text":"","code":"orderly_commit(id, name = NULL, root = NULL, locate = TRUE, timeout = 10)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_commit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Commit a generated report — orderly_commit","text":"id identifier report name name report - can omitted name determined id. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. timeout Time seconds wait db available. parallel database may become locked can choose wait timeout seconds throwing error.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_commit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Commit a generated report — orderly_commit","text":"path newly committed report","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_commit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Commit a generated report — orderly_commit","text":"","code":"# In a new example orderly, run a report path <- orderly::orderly_example(\"minimal\") id <- orderly::orderly_run(\"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105025-ff775118 #> [ start      ]  2023-06-21 10:50:26 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:26 #> [ elapsed    ]  Ran report in 0.01639485 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072  # To commit it, all we need is the report id orderly::orderly_commit(id, root = path) #> [ commit     ]  example/20230621-105025-ff775118 #> [ copy       ] #> [ import     ]  example:20230621-105025-ff775118 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file4750018077/archive/example/20230621-105025-ff775118\"  # The report is now committed, and as such could be used as a # dependency in another report and is not subject to deletion by # orderly::orderly_cleanup orderly::orderly_list_archive(root = path) #>      name                       id #> 1 example 20230621-105025-ff775118"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve orderly config object. — orderly_config","title":"Retrieve orderly config object. — orderly_config","text":"Retrieve orderly config object.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve orderly config object. — orderly_config","text":"","code":"orderly_config(root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve orderly config object. — orderly_config","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve orderly config object. — orderly_config","text":"R6 object representing orderly config.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Retrieve orderly config object. — orderly_config","text":"root Root dir orderly repository raw raw orderly config yaml destination DB connection configuration store orderly output database. Defaults local SQLite db orderly.sqlite fields Configuration fields reports, specifying required remote Configuration remote sources .e. shared copy orderly remote machine vault Vault server connection information global_resources Path dir containing global resources. changelog Changelog type configuration tags List available tags orderly reports. database Database configuration specifying driver connection args (possibly multiple) databases archive_version Orderly version number archive run_options List run options","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Retrieve orderly config object. — orderly_config","text":"orderly_config_$new() orderly_config_$server_options() orderly_config_$add_run_option() orderly_config_$get_run_option()","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Retrieve orderly config object. — orderly_config","text":"Create object representing orderly config","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve orderly config object. — orderly_config","text":"","code":"orderly_config_$new(root, validate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve orderly config object. — orderly_config","text":"root Root dir orderly repository validate TRUE migrate cfg handle format changes validate structure well formed cfg fields","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"method-server-options-","dir":"Reference","previous_headings":"","what":"Method server_options()","title":"Retrieve orderly config object. — orderly_config","text":"Get connection options current server. details \"remote\" section server run . Server identified via env var ORDERLY_API_SERVER_IDENTITY","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve orderly config object. — orderly_config","text":"","code":"orderly_config_$server_options()"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Retrieve orderly config object. — orderly_config","text":"Options current server can identified, otherwise NULL","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"method-add-run-option-","dir":"Reference","previous_headings":"","what":"Method add_run_option()","title":"Retrieve orderly config object. — orderly_config","text":"Add key-value pair run option","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve orderly config object. — orderly_config","text":"","code":"orderly_config_$add_run_option(name, value)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve orderly config object. — orderly_config","text":"name Name run option value Value run option","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"method-get-run-option-","dir":"Reference","previous_headings":"","what":"Method get_run_option()","title":"Retrieve orderly config object. — orderly_config","text":"Retrieve value run option","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve orderly config object. — orderly_config","text":"","code":"orderly_config_$get_run_option(name)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve orderly config object. — orderly_config","text":"name Name run option","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve orderly config object. — orderly_config","text":"","code":"# The orderly demo, with lots of potential reports: path <- orderly::orderly_example(\"demo\")  orderly::orderly_config(path) #> <orderly_config> #>   Public: #>     add_run_option: function (name, value)  #>     archive_version: 1.1.25 #>     changelog: data.frame #>     database: list #>     destination: list #>     fields: data.frame #>     get_run_option: function (name)  #>     global_resources: global #>     initialize: function (root, validate = TRUE)  #>     raw: list #>     remote: NULL #>     root: /tmp/RtmpGRuIRx/file4729f2a953 #>     run_options: list #>     server_options: function ()  #>     tags: dataset plot #>     vault: NULL #>   Private: #>     migrate: function ()  #>     validate: function ()"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Connect to orderly databases — orderly_db","title":"Connect to orderly databases — orderly_db","text":"Connect orderly databases.  treated read-.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Connect to orderly databases — orderly_db","text":"","code":"orderly_db(type, root = NULL, locate = TRUE, validate = TRUE, instance = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Connect to orderly databases — orderly_db","text":"type type connection make (source, destination, csv rds). root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. validate Logical, indicating database schema validated open (currently applicable type = \"destination\").  primarily intended internal use. instance Used type = \"source\", used select instance, multiple instances configured. Use single unnamed character string indicate instance match.  given, name must present databases instances listed orderly_config.yml, ignored database instances given.  See \"orderly\" vignette information.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Connect to orderly databases — orderly_db","text":"database connection, list connections case source.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_db.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Connect to orderly databases — orderly_db","text":"Orderly several databases: source: databases named database section orderly_config.yml destination: orderly index database (typically SQLite database stored orderly root) csv: cache database query results, csv format rds: cache database query results, rds format","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_db.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Connect to orderly databases — orderly_db","text":"","code":"# Create an orderly that has a single commited report: path <- orderly::orderly_example(\"minimal\") id <- orderly::orderly_run(\"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105026-bffdf642 #> [ start      ]  2023-06-21 10:50:26 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:26 #> [ elapsed    ]  Ran report in 0.01625848 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 orderly::orderly_commit(id, root = path) #> [ commit     ]  example/20230621-105026-bffdf642 #> [ copy       ] #> [ import     ]  example:20230621-105026-bffdf642 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file47432b567c/archive/example/20230621-105026-bffdf642\"  # The source database holds the data that might be accessible via # the 'data' entry in orderly.yml: db <- orderly::orderly_db(\"source\", root = path) # This is a list, with one connection per database listed in the # orderly_config.yml (an empty list if none are specified): db #> $source #> <SQLiteConnection> #>   Path: /tmp/RtmpGRuIRx/file47432b567c/source.sqlite #>   Extensions: TRUE #>  DBI::dbListTables(db$source) #> [1] \"data\"  \"thing\" head(DBI::dbReadTable(db$source, \"data\")) #>   id thing       value #> 1  1     1  0.92606273 #> 2  2    13  0.03693769 #> 3  3     6 -1.06620017 #> 4  4    17 -0.23845635 #> 5  5     9  1.49522344 #> 6  6     7  1.17215855 DBI::dbDisconnect(db$source)  # The destination database holds information about the archived # reports: db <- orderly::orderly_db(\"destination\", root = path) DBI::dbListTables(db) #>  [1] \"artefact_format\"              \"changelog\"                    #>  [3] \"changelog_label\"              \"custom_fields\"                #>  [5] \"data\"                         \"depends\"                      #>  [7] \"file\"                         \"file_artefact\"                #>  [9] \"file_input\"                   \"file_input_global\"            #> [11] \"file_purpose\"                 \"orderly_schema\"               #> [13] \"orderly_schema_tables\"        \"parameters\"                   #> [15] \"parameters_type\"              \"report\"                       #> [17] \"report_batch\"                 \"report_version\"               #> [19] \"report_version_artefact\"      \"report_version_batch\"         #> [21] \"report_version_custom_fields\" \"report_version_data\"          #> [23] \"report_version_instance\"      \"report_version_package\"       #> [25] \"report_version_tag\"           \"report_version_view\"          #> [27] \"report_version_workflow\"      \"tag\"                          #> [29] \"workflow\"                      # These tables are documented online: # https://vimc.github.io/orderly/schema DBI::dbReadTable(db, \"report_version\") #>                         id  report                date displayname description #> 1 20230621-105026-bffdf642 example 2023-06-21 10:50:26        <NA>        <NA> #>   connection published    elapsed git_sha git_branch git_clean #> 1          0         0 0.01625848    <NA>       <NA>        NA"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_deduplicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Deduplicate an orderly archive — orderly_deduplicate","title":"Deduplicate an orderly archive — orderly_deduplicate","text":"Deduplicate orderly archive.  Deduplicating orderly archive replace files content \"hard links\".  requires hard link support underlying operating system, available unix-like systems (e.g. MacOS Linux) Windows since Vista.  However, windows systems might require somewhat elevated privileges. use feature, important treat orderly archive read-(though anyway) changing one copy linked file changes instances - files literally file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_deduplicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deduplicate an orderly archive — orderly_deduplicate","text":"","code":"orderly_deduplicate(root = NULL, locate = TRUE, dry_run = TRUE, quiet = FALSE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_deduplicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Deduplicate an orderly archive — orderly_deduplicate","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. dry_run Logical, indicating deduplication planned run quiet Logical, indicating status printed","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_deduplicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Deduplicate an orderly archive — orderly_deduplicate","text":"Invisibly, information duplication status archive deduplication run.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_deduplicate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Deduplicate an orderly archive — orderly_deduplicate","text":"function alter orderly archive.  Ordinarily something done, try careful.  order work, important treat orderly archive read-generally.  canonical orderly archive behind OrderlyWeb almost certainly case already. \"hard linking\", two files content can updated files point physical bit data. great, file large, one copy needs stored.  However, means change made one copy file, immediately reflected , nothing indicate files linked! approach worth exploring large files outputs one report inputs another, large inputs repeatedly used different reports, outputs end multiple reports.  run deduplication dry_run = TRUE, indication savings printed.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_deduplicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Deduplicate an orderly archive — orderly_deduplicate","text":"","code":"path <- orderly::orderly_example(\"demo\") id1 <- orderly::orderly_run(\"minimal\", root = path) #> [ name       ]  minimal #> [ id         ]  20230621-105027-839a8e16 #> [ start      ]  2023-06-21 10:50:27 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:27 #> [ elapsed    ]  Ran report in 0.01687074 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 id2 <- orderly::orderly_run(\"minimal\", root = path) #> [ name       ]  minimal #> [ id         ]  20230621-105027-90a5fe1d #> [ start      ]  2023-06-21 10:50:27 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:27 #> [ elapsed    ]  Ran report in 0.01501155 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 orderly_commit(id1, root = path) #> [ commit     ]  minimal/20230621-105027-839a8e16 #> [ copy       ] #> [ import     ]  minimal:20230621-105027-839a8e16 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file471472a937/archive/minimal/20230621-105027-839a8e16\" orderly_commit(id2, root = path) #> [ commit     ]  minimal/20230621-105027-90a5fe1d #> [ copy       ] #> [ import     ]  minimal:20230621-105027-90a5fe1d #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file471472a937/archive/minimal/20230621-105027-90a5fe1d\" tryCatch(   orderly::orderly_deduplicate(path, dry_run = TRUE),   error = function(e) NULL) #> Deduplication information for #>   /tmp/RtmpGRuIRx/file471472a937/archive #>   - 6 tracked files #>   - 20.43 kB total size #>   - 3 duplicate files #>   - 10.22 kB duplicated size #>   - 0 deduplicated files #>   - 0 B deduplicated size #>   - 0 untracked files #>   - 0 B untracked size"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_default_remote.html","id":null,"dir":"Reference","previous_headings":"","what":"Set default remote location — orderly_default_remote_set","title":"Set default remote location — orderly_default_remote_set","text":"Set get default remote locations.  Default locations specific orderly repository (based path repository) interaction different orderly projects.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_default_remote.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set default remote location — orderly_default_remote_set","text":"","code":"orderly_default_remote_set(value, root = NULL, locate = TRUE)  orderly_default_remote_get(root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_default_remote.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set default remote location — orderly_default_remote_set","text":"value string describing remote, remote object, NULL clear root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_default_remote.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set default remote location — orderly_default_remote_set","text":"default remote (orderly_default_remote_get). function orderly_default_remote_set called side effects .","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_default_remote.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set default remote location — orderly_default_remote_set","text":"","code":"# Same setup as in orderly_remote_path, with a remote orderly: path_remote <- orderly::orderly_example(\"demo\") id <- orderly::orderly_run(\"other\", list(nmin = 0),                            root = path_remote, echo = FALSE) #> [ name       ]  other #> [ id         ]  20230621-105028-24c4f733 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0 #> [ start      ]  2023-06-21 10:50:28 #> [ data       ]  source => extract: 20 x 2 #> [ parameter  ]  nmin: 0 #> [ end        ]  2023-06-21 10:50:28 #> [ elapsed    ]  Ran report in 0.01815748 secs #> [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 #> [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 orderly::orderly_commit(id, root = path_remote) #> [ commit     ]  other/20230621-105028-24c4f733 #> [ copy       ] #> [ import     ]  other:20230621-105028-24c4f733 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file474c60d83e/archive/other/20230621-105028-24c4f733\" id <- orderly::orderly_run(\"use_dependency\",                            root = path_remote, echo = FALSE) #> [ name       ]  use_dependency #> [ id         ]  20230621-105028-6632c2e5 #> [ depends    ]  other@20230621-105028-24c4f733:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:28 #> [ end        ]  2023-06-21 10:50:28 #> [ elapsed    ]  Ran report in 0.01294088 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: 5255656bd83f9cb2fbc415c6877accc9 orderly::orderly_commit(id, root = path_remote) #> [ commit     ]  use_dependency/20230621-105028-6632c2e5 #> [ copy       ] #> [ import     ]  use_dependency:20230621-105028-6632c2e5 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file474c60d83e/archive/use_dependency/20230621-105028-6632c2e5\"  # And a local orderly path_local <- orderly::orderly_example(\"demo\")  # We'll create an object to interact with this remote using # orderly_remote_path. remote <- orderly::orderly_remote_path(path_remote)  # There is no remote set by default: try(orderly::orderly_default_remote_get(root = path_local)) #> Error in orderly::orderly_default_remote_get(root = path_local) :  #>   default remote has not been set yet: use 'orderly::orderly_default_remote_set'  # We can set one: orderly::orderly_default_remote_set(remote, root = path_local)  # and now we can retrieve it: orderly::orderly_default_remote_get(root = path_local) #> <orderly_remote_path> #>   Public: #>     bundle_import: function (path)  #>     bundle_pack: function (name, parameters = NULL, instance = NULL)  #>     clone: function (deep = FALSE)  #>     config: orderly_config, R6 #>     initialize: function (path, name)  #>     kill: function (...)  #>     list_reports: function ()  #>     list_versions: function (name)  #>     metadata: function (name, id)  #>     name: /tmp/RtmpGRuIRx/file474c60d83e #>     pull: function (name, id)  #>     push: function (path)  #>     run: function (...)  #>     url_report: function (name, id)   # Note that this has not affected the other orderly: try(orderly::orderly_default_remote_get(root = path_remote)) #> Error in orderly::orderly_default_remote_get(root = path_remote) :  #>   default remote has not been set yet: use 'orderly::orderly_default_remote_set'"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_develop_start.html","id":null,"dir":"Reference","previous_headings":"","what":"Develop an orderly report — orderly_develop_start","title":"Develop an orderly report — orderly_develop_start","text":"functions orderly_develop_start, orderly_develop_status orderly_develop_clean provide workflow developing report much way one might write code outside orderly. orderly_develop_start copy files required (global resources dependencies) report source directory, well collect data parameters - point directory can developed directly.  also load declared packages, source code files listed packages: sources: sections orderly.yml.  orderly_develop_status provides information status files directory, orderly_develop_clean deletes copied files.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_develop_start.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Develop an orderly report — orderly_develop_start","text":"","code":"orderly_develop_start(   name = NULL,   parameters = NULL,   envir = parent.frame(),   root = NULL,   locate = TRUE,   instance = NULL,   use_draft = FALSE,   remote = NULL )  orderly_develop_status(name = NULL, root = NULL, locate = TRUE)  orderly_develop_clean(name = NULL, root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_develop_start.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Develop an orderly report — orderly_develop_start","text":"name Name report develop (see orderly_list()).  leading src/ removed provided, allowing easier use autocomplete. Alternatively, default NULL useful already set working directory source directory. parameters Parameters passed report. named list parameters declared orderly.yml.  parameter must scalar character, numeric, integer logical. envir parent environment used evaluate report script; default new environment made global environment parent. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. instance Select instance source database used, multiple instances configured.  Use single unnamed character string indicate instance match.  given, name must present databases instances listed orderly_config.yml, ignored database instances given.  See \"orderly\" vignette information. use_draft draft reports used dependencies? used development.  Valid values logical (TRUE, FALSE) use string newer use draft reports newer archive reports.  consistency, always never equivalent TRUE FALSE, respectively. remote Remote use resolve dependencies.  Use order run report dependencies available remote server, particularly using id = \"latest\".  Note running orderly_pull_dependencies(), orderly_run remote = NULL, pull/run approach use latest report archive remote = \"remote\" approach use latest approach remote archive (might less recent).","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_develop_start.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Develop an orderly report — orderly_develop_start","text":"character vector full path directory, invisibly.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_develop_start.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Develop an orderly report — orderly_develop_start","text":"functions designed work within report's src directory.  example, report analysis alter report directory src/analysis.  intended orderly_develop_start can run repeatedly; refresh contents directory upstream files updated. degree care used using functions. orderly_develop_start copies files source tree careful add files .gitignore files included using git.  Rerunning orderly_develop_start copy fresh copy dependencies tree, overwriting files without warning. Repeatedly running orderly_develop_start \"safe\", re-run setup steps, beware sourcing functions additive never subtractive.  delete (rename) function within source file, removed global environment.  Similarly, environment variables loaded time call , deletions happen.  doubt, restart R session. Note functions much permissive state orderly.yml orderly_run() - particular, run, message, even yet defined script: artefacts:. orderly_develop_clean function delete dependencies without warning.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_develop_start.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Develop an orderly report — orderly_develop_start","text":"","code":"path <- orderly::orderly_example(\"demo\")  # This report uses a dependency - it requires that the file # incoming.csv exists.  This file is created from the report 'other' orderly::orderly_develop_status(\"use_dependency\", root = path) #>       filename       type present derived #> 1  orderly.yml    orderly    TRUE   FALSE #> 2     script.R     script    TRUE   FALSE #> 3 incoming.csv dependency   FALSE    TRUE #> 4    graph.png   artefact   FALSE    TRUE #> 5     info.rds   artefact   FALSE    TRUE  # Copy the required dependencies over, in this case from a draft report orderly::orderly_run(\"other\", list(nmin = 0), root = path, echo = FALSE) #> [ name       ]  other #> [ id         ]  20230621-105028-e7f9ceb9 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0 #> [ start      ]  2023-06-21 10:50:28 #> [ data       ]  source => extract: 20 x 2 #> [ parameter  ]  nmin: 0 #> [ end        ]  2023-06-21 10:50:28 #> [ elapsed    ]  Ran report in 0.02376294 secs #> [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 #> [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [1] \"20230621-105028-e7f9ceb9\" orderly::orderly_develop_start(\"use_dependency\", root = path,                                use_draft = TRUE) #> [ name       ]  use_dependency #> [ depends    ]  other@20230621-105028-e7f9ceb9:summary.csv -> incoming.csv  # Files have been copied across into the source directory orderly::orderly_develop_status(\"use_dependency\", root = path) #>       filename       type present derived #> 1  orderly.yml    orderly    TRUE   FALSE #> 2     script.R     script    TRUE   FALSE #> 3 incoming.csv dependency    TRUE    TRUE #> 4    graph.png   artefact   FALSE    TRUE #> 5     info.rds   artefact   FALSE    TRUE  # The report can then be developed as needed, interactively.  After # we're happy things can be cleaned up with orderly::orderly_develop_clean(\"use_dependency\", root = path) #> [ remove     ]  incoming.csv"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up an orderly example — orderly_example","title":"Set up an orderly example — orderly_example","text":"Set one orderly examples included package. intended starting points new orderly repositories, used package examples vignettes.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up an orderly example — orderly_example","text":"","code":"orderly_example(   name,   path = tempfile(),   run_demo = FALSE,   quiet = FALSE,   git = FALSE )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up an orderly example — orderly_example","text":"name Name example path Destination create example - exists already must empty directory.  default, creates new temporary directory run_demo Logical, indicating example configured \"demo\" (.e., set reports run committed), run? quiet Logical, indicating informational messages suppressed running demo. git Logical, indicating create basic git repository along demo. default orderly .gitignore set , remote (git pull git fetch run without error, though nothing).","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up an orderly example — orderly_example","text":"Returns path orderly example","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_example.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up an orderly example — orderly_example","text":"","code":"# Create a new copy of the \"minimal\" example path <- orderly::orderly_example(\"minimal\") dir(path) #> [1] \"README.md\"          \"archive\"            \"data\"               #> [4] \"demo.yml\"           \"draft\"              \"orderly_config.yml\" #> [7] \"source.sqlite\"      \"src\"                 # Example reports within this repository: orderly::orderly_list(path) #> [1] \"example\"  \"example2\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Print the dependency tree for a given report using orderly log — orderly_graph","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"Investigate dependency structure set orderly reports. function allows dependency graph created set reports run committed (archive) set reports run (src) discovered printed screen.  experimental somewhat subject change improvement.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"","code":"orderly_graph(   name,   id = \"latest\",   root = NULL,   locate = TRUE,   direction = \"downstream\",   propagate = TRUE,   max_depth = Inf,   recursion_limit = 100,   show_all = FALSE,   use = \"archive\" )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"name name report id id report, omitted, use id latest report root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. direction string indicating want move tree permitted values upstream, downstream propagate boolean indicating want propagate date tree max_depth numeric, far back tree go, can useful truncate large tree. (default = Inf) recursion_limit numeric, limit depth tree, tree goes beyond error thrown. (default = 100) show_all boolean, show reports tree, just latest. use Character string indicating read infer dependency tree.  Current valid values archive (default), reads archive reports src reads source reports.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"orderly tree object root corresponding given report.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"orderly allows report rely artefacts one orderly reports. allows users develop network interconnected reports output report becomes source data another.  two natural questions can develop around workflow: updated report; reports depend can re-run ? report want re-run ensure uses latest information. reports used (directly indirectly) report? function displays information easily readable format.  Allowing users see dependency tree reports date need re-run.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"remark","dir":"Reference","previous_headings":"","what":"Remark","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"default tree built using data local report database (see orderly_commit, orderly_db). means find changes report run committed. , user changes report use create different artefacts picked function reports re-run committed archive. possible generate tree source reports using use = \"src\" - generates \"theoretical tree\", concept \"date\" ids.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"interface considered experimental may change without notice.  Please depend scripts may break things.  Consider (hopefully) useful way exploring dependencies reports interactively - let us know missing try build .","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print the dependency tree for a given report using orderly log — orderly_graph","text":"","code":"path <- orderly::orderly_example(\"demo\")  id <- orderly::orderly_run(\"other\", root = path, parameters=list(nmin=0)) #> [ name       ]  other #> [ id         ]  20230621-105029-8045ed04 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0 #> [ start      ]  2023-06-21 10:50:29 #> [ data       ]  source => extract: 20 x 2 #> [ parameter  ]  nmin: 0 #>  #> > extract$number <- extract$number + rnorm(1) #>  #> > write.csv(extract, \"summary.csv\", row.names = TRUE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > do_plot(extract) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:29 #> [ elapsed    ]  Ran report in 0.01828814 secs #> [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 #> [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 orderly::orderly_commit(id, root = path) #> [ commit     ]  other/20230621-105029-8045ed04 #> [ copy       ] #> [ import     ]  other:20230621-105029-8045ed04 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file477a68fb72/archive/other/20230621-105029-8045ed04\" id <- orderly::orderly_run(\"use_dependency\", root = path) #> [ name       ]  use_dependency #> [ id         ]  20230621-105029-c216e772 #> [ depends    ]  other@20230621-105029-8045ed04:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:29 #>  #> > d <- read.csv(\"incoming.csv\", stringsAsFactors = FALSE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(d$number, d$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #>  #> > info <- orderly::orderly_run_info() #>  #> > saveRDS(info, \"info.rds\") #> [ end        ]  2023-06-21 10:50:29 #> [ elapsed    ]  Ran report in 0.01266217 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: a95344a04f333a80618ceb17d6ce60de orderly::orderly_commit(id, root = path) #> [ commit     ]  use_dependency/20230621-105029-c216e772 #> [ copy       ] #> [ import     ]  use_dependency:20230621-105029-c216e772 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file477a68fb72/archive/use_dependency/20230621-105029-c216e772\" id <- orderly::orderly_run(\"use_dependency_2\", root = path) #> [ name       ]  use_dependency_2 #> [ id         ]  20230621-105029-ebe8b1a1 #> [ depends    ]  use_dependency@20230621-105029-c216e772:graph.png -> graph.png #> [ start      ]  2023-06-21 10:50:29 #>  #> > stopifnot(file.exists(\"graph.png\")) #>  #> > saveRDS(orderly::orderly_run_info(), \"third.rds\") #> [ end        ]  2023-06-21 10:50:29 #> [ elapsed    ]  Ran report in 0.002780914 secs #> [ artefact   ]  third.rds: 917777b4bc790198dad59354e800f750 orderly::orderly_commit(id, root = path) #> [ commit     ]  use_dependency_2/20230621-105029-ebe8b1a1 #> [ copy       ] #> [ import     ]  use_dependency_2:20230621-105029-ebe8b1a1 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file477a68fb72/archive/use_dependency_2/20230621-105029-ebe8b1a1\" orderly::orderly_graph(\"other\", root = path) #> other [20230621-105029-8045ed04] #> └──use_dependency [20230621-105029-c216e772] #>     └──use_dependency_2 [20230621-105029-ebe8b1a1] #>  orderly::orderly_graph(\"use_dependency_2\", root = path,                                  direction = \"upstream\") #> use_dependency_2 [20230621-105029-ebe8b1a1] #> └──use_dependency [20230621-105029-c216e772] #>     └──other [20230621-105029-8045ed04] #>"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph_out_of_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Given a tree return a list of reports to be re-run (and the order\nthat they should be re-run) — orderly_graph_out_of_date","title":"Given a tree return a list of reports to be re-run (and the order\nthat they should be re-run) — orderly_graph_out_of_date","text":"Given tree return list reports re-run (order re-run)","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph_out_of_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Given a tree return a list of reports to be re-run (and the order\nthat they should be re-run) — orderly_graph_out_of_date","text":"","code":"orderly_graph_out_of_date(tree)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph_out_of_date.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Given a tree return a list of reports to be re-run (and the order\nthat they should be re-run) — orderly_graph_out_of_date","text":"tree dependency tree object orderly_graph_out_of_date","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_graph_out_of_date.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Given a tree return a list of reports to be re-run (and the order\nthat they should be re-run) — orderly_graph_out_of_date","text":"list report names re-run. First report rerun first","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Return info about a report which has been run — orderly_info","title":"Return info about a report which has been run — orderly_info","text":"return info either successful failed reports. look report id archive first look drafts found archive.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return info about a report which has been run — orderly_info","text":"","code":"orderly_info(id, name, root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return info about a report which has been run — orderly_info","text":"id report ID name name report root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return info about a report which has been run — orderly_info","text":"Info report run - subject change. Returns list includes report id, name, indication success, run date elapsed time, parameters, git info (available), path logfile (exists) details error run failed","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return info about a report which has been run — orderly_info","text":"","code":"path <- orderly::orderly_example(\"demo\") id <- orderly::orderly_run(\"minimal\", root = path) #> [ name       ]  minimal #> [ id         ]  20230621-105030-8b7cc8a8 #> [ start      ]  2023-06-21 10:50:30 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:30 #> [ elapsed    ]  Ran report in 0.01624107 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 orderly::orderly_info(id, \"minimal\", root = path) #> $id #> [1] \"20230621-105030-8b7cc8a8\" #>  #> $name #> [1] \"minimal\" #>  #> $success #> [1] TRUE #>  #> $date #> [1] \"2023-06-21 10:50:30\" #>  #> $elapsed #> [1] 0.01624107 #>  #> $git #> NULL #>  #> $parameters #> NULL #>  #> $logfile #> NULL #>  #> $error #> NULL #>"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_init.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialise an orderly store — orderly_init","title":"Initialise an orderly store — orderly_init","text":"Initialise orderly store.  helper function automates getting started using orderly new project. required use - can create orderly structure (compulsory orderly_config.yml file).","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_init.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialise an orderly store — orderly_init","text":"","code":"orderly_init(root, doc = TRUE, quiet = FALSE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_init.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialise an orderly store — orderly_init","text":"root root store; must empty directory path directory create doc Logical, indicating documentation added directories.  also (potentially useful) effect making directories noticeable git. quiet Logical, indicating informational messages suppressed.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_init.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialise an orderly store — orderly_init","text":"path newly created archive","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_init.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Initialise an orderly store — orderly_init","text":"function creates minimal orderly structure, containing: orderly_config.yml: orderly configuration. Minimally, can empty, must exist. src: path report sources live. placed version control, contain number reports, directory orderly.yml describing inputs outputs (artefacts).  orderly_new() function can used accelerate creation new reports. draft: directory reports run using orderly_run().  directory excluded version control. orderly create needed exist report run. archive: directory successfully run reports moved committed orderly_commit(). directory excluded version control. orderly create needed exist report committed. data: directory data extracted database (used) stored.  directory excluded version control. orderly create needed exist report run.","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_init.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialise an orderly store — orderly_init","text":"","code":"# Initialise a new orderly repository in an temporary directory: path <- orderly::orderly_init(tempfile()) #> Now, edit the file 'orderly_config.yml' within '/tmp/RtmpGRuIRx/file4711c7bd38'  # This has created the directory skeleton that you need to get # started using orderly: fs::dir_tree(path) #> /tmp/RtmpGRuIRx/file4711c7bd38 #> ├── README.md #> ├── archive #> │   └── README.md #> ├── data #> │   └── README.md #> ├── draft #> │   └── README.md #> ├── orderly_config.yml #> └── src #>     └── README.md  # As instructed, the next thing to do is to edit the # orderly_config.yml file to match your needs: readLines(file.path(path, \"orderly_config.yml\")) #>  [1] \"# To use external databases, this file must contain the field\"           #>  [2] \"# 'database', which contains database configurations, each of which\"     #>  [3] \"# must contain a field 'driver' that will be one of RSQLite::SQLite or\"  #>  [4] \"# RPostgres::Postgres (other drivers may work too in future, but not\"    #>  [5] \"# yet).\"                                                                 #>  [6] \"#\"                                                                       #>  [7] \"# For example, a configuration to use Postgres as the source database\"   #>  [8] \"# might look like:\"                                                      #>  [9] \"#\"                                                                       #> [10] \"#   database:\"                                                           #> [11] \"#     source:\"                                                           #> [12] \"#       driver: RPostgres::Postgres\"                                     #> [13] \"#       args:\"                                                           #> [14] \"#         host: localhost\"                                               #> [15] \"#         port: 5432\"                                                    #> [16] \"#         user: myuser\"                                                  #> [17] \"#         dbname: databasename\"                                          #> [18] \"#         password: p4ssw0rd\"                                            #> [19] \"#\"                                                                       #> [20] \"# All arguments in the \\\"args\\\" block will be passed through during the\" #> [21] \"# 'DBI::dbConnect()' call.\"                                              #> [22] \"#\"                                                                       #> [23] \"# If using SQLite, then the \\\"dbname\\\" argument will be interpreted\"     #> [24] \"# relative to the orderly root if not absolute .  Be sure to exclude\"    #> [25] \"# this path using .gitignore\"                                            #> [26] \"#\"                                                                       #> [27] \"# Other options accepted by RSQLite are allowed but are much less\"       #> [28] \"# commonly useful (as of RSQLite v1.1-2, loadable.extensions,\"           #> [29] \"# cache_size, synchronous, flags, vfs)\"                                  #> [30] \"database: ~\"                                                             #> [31] \"\"                                                                        #> [32] \"# It is not necessary to configure a destination driver explicitly\"      #> [33] \"# unless you want to change the default (which is into a SQLite\"         #> [34] \"# database called \\\"orderly.sqlite\\\" at the orderly root.  If you do\"    #> [35] \"# specify it, the options are the same as for \\\"source\\\", e.g.:\"         #> [36] \"#\"                                                                       #> [37] \"#   destination:\"                                                        #> [38] \"#     driver: RSQLite::SQLite\"                                           #> [39] \"#     args:\"                                                             #> [40] \"#       dbname: different.sqlite\"                                        #> [41] \"\"                                                                        #> [42] \"# In addition, it may contain a 'fields' section defining custom\"        #> [43] \"# fields, for example:\"                                                  #> [44] \"#\"                                                                       #> [45] \"#   fields:\"                                                             #> [46] \"#     comment:\"                                                          #> [47] \"#       required: true\"                                                  #> [48] \"#       type: character\"                                                 #> [49] \"#\"                                                                       #> [50] \"# Each field is named, and has two required entries; 'required'\"         #> [51] \"# (either false or true) and 'type' (either 'character' or 'numeric').\"  #> [52] \"#\"                                                                       #> [53] \"# The fields must not clash with built-in field names.\"                  #> [54] \"fields: ~\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_latest.html","id":null,"dir":"Reference","previous_headings":"","what":"Find most recent report — orderly_latest","title":"Find most recent report — orderly_latest","text":"Find recent version orderly report.  recent report always recently run report committed (regardless order committed).","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_latest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find most recent report — orderly_latest","text":"","code":"orderly_latest(   name = NULL,   root = NULL,   locate = TRUE,   draft = FALSE,   must_work = TRUE )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_latest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find most recent report — orderly_latest","text":"name Name report find; NULL returns recent report across names root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. draft draft reports used searched? Valid values logical (TRUE, FALSE) use string newer use draft reports newer archive reports. consistency, always never equivalent TRUE FALSE, respectively. must_work Throw error report found.  FALSE, returns NA_character_.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_latest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find most recent report — orderly_latest","text":"character string id recent report","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_latest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find most recent report — orderly_latest","text":"","code":"path <- orderly::orderly_example(\"minimal\") id1 <- orderly::orderly_run(\"example\", root = path, echo = FALSE) #> [ name       ]  example #> [ id         ]  20230621-105031-4e29014e #> [ start      ]  2023-06-21 10:50:31 #> [ data       ]  source => dat: 20 x 2 #> [ end        ]  2023-06-21 10:50:31 #> [ elapsed    ]  Ran report in 0.01550555 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 id2 <- orderly::orderly_run(\"example\", root = path, echo = FALSE) #> [ name       ]  example #> [ id         ]  20230621-105031-5accb551 #> [ start      ]  2023-06-21 10:50:31 #> [ data       ]  source => dat: 20 x 2 #> [ end        ]  2023-06-21 10:50:31 #> [ elapsed    ]  Ran report in 0.01578426 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072  # With no reports committed there is no latest report: orderly::orderly_latest(\"example\", root = path, must_work = FALSE) #> [1] NA  # Commit the first report and it will be reported as latest: orderly::orderly_commit(id1, root = path) #> [ commit     ]  example/20230621-105031-4e29014e #> [ copy       ] #> [ import     ]  example:20230621-105031-4e29014e #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file474abcb5dd/archive/example/20230621-105031-4e29014e\" orderly::orderly_latest(\"example\", root = path) #> [1] \"20230621-105031-4e29014e\"  # Commit the second report and it will be reported as latest instead: orderly::orderly_commit(id2, root = path) #> [ commit     ]  example/20230621-105031-5accb551 #> [ copy       ] #> [ import     ]  example:20230621-105031-5accb551 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file474abcb5dd/archive/example/20230621-105031-5accb551\" orderly::orderly_latest(\"example\", root = path) #> [1] \"20230621-105031-5accb551\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List orderly reports — orderly_list","title":"List orderly reports — orderly_list","text":"List names reports known orderly.  source names, results running reports.  Note report committed different branch appear , simply set reports src directory can run.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List orderly reports — orderly_list","text":"","code":"orderly_list(root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List orderly reports — orderly_list","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List orderly reports — orderly_list","text":"character vector report names","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List orderly reports — orderly_list","text":"","code":"# The orderly demo, with lots of potential reports: path <- orderly::orderly_example(\"demo\")  # Reports that _could_ be run: orderly::orderly_list(path) #>  [1] \"changelog\"          \"connection\"         \"default-param\"      #>  [4] \"global\"             \"html\"               \"interactive\"        #>  [7] \"minimal\"            \"multi-artefact\"     \"multifile-artefact\" #> [10] \"other\"              \"slow1\"              \"slow10\"             #> [13] \"slow3\"              \"spaces\"             \"use_dependency\"     #> [16] \"use_dependency_2\"   \"use_resource\"       \"use_resource_dir\"   #> [19] \"view\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_drafts.html","id":null,"dir":"Reference","previous_headings":"","what":"List draft and archived reports — orderly_list_drafts","title":"List draft and archived reports — orderly_list_drafts","text":"List draft archived reports.  returns data.frame columns name (see orderly_list()) id.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_drafts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List draft and archived reports — orderly_list_drafts","text":"","code":"orderly_list_drafts(root = NULL, locate = TRUE, include_failed = FALSE)  orderly_list_archive(root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_drafts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List draft and archived reports — orderly_list_drafts","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. include_failed Logical, indicating failed drafts listed (effect orderly_list_drafts failed run make archive).  failed report one lacks orderly_run.rds file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_drafts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List draft and archived reports — orderly_list_drafts","text":"data.frame columns name id, containing character vectors report names versions, respectively.","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_drafts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List draft and archived reports — orderly_list_drafts","text":"","code":"# The orderly demo, with lots of potential reports: path <- orderly::orderly_example(\"demo\")  # Reports that _could_ be run: orderly::orderly_list(path) #>  [1] \"changelog\"          \"connection\"         \"default-param\"      #>  [4] \"global\"             \"html\"               \"interactive\"        #>  [7] \"minimal\"            \"multi-artefact\"     \"multifile-artefact\" #> [10] \"other\"              \"slow1\"              \"slow10\"             #> [13] \"slow3\"              \"spaces\"             \"use_dependency\"     #> [16] \"use_dependency_2\"   \"use_resource\"       \"use_resource_dir\"   #> [19] \"view\"                # Run a report twice: id1 <- orderly::orderly_run(\"minimal\", root = path) #> [ name       ]  minimal #> [ id         ]  20230621-105032-1e4cbb57 #> [ start      ]  2023-06-21 10:50:32 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:32 #> [ elapsed    ]  Ran report in 0.01653957 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 id2 <- orderly::orderly_run(\"minimal\", root = path) #> [ name       ]  minimal #> [ id         ]  20230621-105032-2b969f76 #> [ start      ]  2023-06-21 10:50:32 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:32 #> [ elapsed    ]  Ran report in 0.0223043 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072  # We can see both drafts: orderly::orderly_list_drafts(path) #>      name                       id #> 1 minimal 20230621-105032-1e4cbb57 #> 2 minimal 20230621-105032-2b969f76  # Nothing is in the archive: orderly::orderly_list_archive(path) #> [1] name id   #> <0 rows> (or 0-length row.names)  # Commit a report: orderly::orderly_commit(id2, root = path) #> [ commit     ]  minimal/20230621-105032-2b969f76 #> [ copy       ] #> [ import     ]  minimal:20230621-105032-2b969f76 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file47704c9b10/archive/minimal/20230621-105032-2b969f76\"  # Only one draft now orderly::orderly_list_drafts(path) #>      name                       id #> 1 minimal 20230621-105032-1e4cbb57  # And the second report is in the archive: orderly::orderly_list_archive(path) #>      name                       id #> 1 minimal 20230621-105032-2b969f76"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"List reports with only local metadata — orderly_list_metadata","title":"List reports with only local metadata — orderly_list_metadata","text":"List reports present metadata; result orderly_pull_archive() recursive = FALSE, case metadata downloaded report contents .","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List reports with only local metadata — orderly_list_metadata","text":"","code":"orderly_list_metadata(root = NULL, locate = FALSE, include_archive = FALSE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List reports with only local metadata — orderly_list_metadata","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. include_archive Logical, indicating include reports also included archive.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List reports with only local metadata — orderly_list_metadata","text":"data.frame() columns name id, orderly_list_archive()","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_list_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List reports with only local metadata — orderly_list_metadata","text":"","code":"path <- orderly::orderly_example(\"minimal\") # No metadata-only reports will be present, unless you have run # orderly::orderly_pull_archive(..., recursive = FALSE) orderly::orderly_list_metadata(path) #> [1] name id   #> <0 rows> (or 0-length row.names)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_log.html","id":null,"dir":"Reference","previous_headings":"","what":"Orderly logging and diagnostic messages — orderly_log_on","title":"Orderly logging and diagnostic messages — orderly_log_on","text":"Start stop orderly log.  active, actions print diagnostic information message stream.  set default.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_log.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Orderly logging and diagnostic messages — orderly_log_on","text":"","code":"orderly_log_on()  orderly_log_off()  orderly_log(topic, value)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_log.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Orderly logging and diagnostic messages — orderly_log_on","text":"topic 9 character text string log topic value Character string log entry","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_log.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Orderly logging and diagnostic messages — orderly_log_on","text":"orderly_log_on orderly_log_off invisibly returns logical indicating logging previously enabled. allows patterns like:   disable logging within function (.exit block run function exits).","code":"if (!orderly::orderly_log_off()) {   on.exit(orderly::orderly_log_on()) }"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_log.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Orderly logging and diagnostic messages — orderly_log_on","text":"function orderly_log designed used applications extend orderly, functions orderly_log_on orderly_log_off can used applications users enable disable log messages. interface may expand adding arguments change behaviour based global options. Future versions may support logging file, adding timestamps, logging json format, etc.","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_log.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Orderly logging and diagnostic messages — orderly_log_on","text":"","code":"# We are going to log things below logging_was_enabled <- orderly::orderly_log_on()  # About orderly log messages: # Orderly log messages have the form \"[title] message\" orderly::orderly_log_on() orderly::orderly_log(\"title\", \"message\") #> [ title      ]  message  # If logging is disabled they are not printed: orderly::orderly_log_off() orderly::orderly_log(\"title\", \"message\")  # Restore to previous settings: if (logging_was_enabled) {   orderly::orderly_log_on() }"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_migrate.html","id":null,"dir":"Reference","previous_headings":"","what":"Migrate an orderly archive — orderly_migrate","title":"Migrate an orderly archive — orderly_migrate","text":"Migrate orderly archive.  needed periodically orderly archive version changes.  get message like orderly archive needs migrating .b.c => x.y.z need run function.  archive version equal package version.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_migrate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Migrate an orderly archive — orderly_migrate","text":"","code":"orderly_migrate(   root = NULL,   locate = TRUE,   to = NULL,   dry_run = FALSE,   skip_failed = FALSE,   clean = FALSE )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_migrate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Migrate an orderly archive — orderly_migrate","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. version migrate .  default current archive version; almost always wanted. dry_run Logical, indicating try running migration actually applying .  intended primarily developing new migrations probably work multiple archive versions behind. skip_failed Logical, TRUE skip entries failed migrated.  expected useful local archives violates append-nature orderly.  However, local archive contains unusual copies orderly archives migrated might come helpful. clean Logical, TRUE (migration successful dry_run FALSE) orderly clean migration backup files.  Use periodically clean archive.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_migrate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Migrate an orderly archive — orderly_migrate","text":"return value, function called side effects","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_migrate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Migrate an orderly archive — orderly_migrate","text":"Sometimes add change information saved orderly run. requires patching previously run versions orderly metadata something want lightly.  function uses relatively safe, reversible, way migrating metadata.  modify orderly_run.rds files, create versioned backups files changed.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_migrate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Migrate an orderly archive — orderly_migrate","text":"","code":"# Without an orderly repository created by a previous version of # orderly, this function does nothing interesting: path <- orderly::orderly_example(\"minimal\") orderly::orderly_migrate(path)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_new.html","id":null,"dir":"Reference","previous_headings":"","what":"Create new report — orderly_new","title":"Create new report — orderly_new","text":"Create new report, starting template.  Orderly comes set templates, projects can bring templates; see Details configured discovered orderly.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_new.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create new report — orderly_new","text":"","code":"orderly_new(name, root = NULL, locate = TRUE, quiet = FALSE, template = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_new.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create new report — orderly_new","text":"name Name new report (directory name). root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. quiet Logical, indicating informational messages suppressed. template name template.  NULL orderly search template (see Details).  given must name directory within directory template project root.  special label \"orderly\" use orderly's builtin template.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_new.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create new report — orderly_new","text":"path new source directory, invisibly","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_new.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create new report — orderly_new","text":"create custom template, create directory template within orderly root.  Within directory create directories containing files like report contain.  must contain file orderly.yml may contain files (example, might want default script Rmd file). template given (.e., NULL) look template called default (.e., stored template/default), fall back system orderly template. first look file orderly/template.yml within orderly root.  found, copy orderly package used.  can always used using template = \"system\".","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_new.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create new report — orderly_new","text":"","code":"path <- orderly::orderly_example(\"minimal\")  # Create a new report with the name \"myreport\" in this orderly # repository: orderly::orderly_new(\"myreport\", root = path) #> Created report at '/tmp/RtmpGRuIRx/file4747b2deef/src/myreport' #> Edit the file 'orderly.yml' within this directory  # The directory will be initialised with a orderly.yml file # containing documentation dir(file.path(path, \"src\", \"myreport\")) #> [1] \"orderly.yml\" readLines(file.path(path, \"src\", \"myreport\", \"orderly.yml\")) #>   [1] \"# This is an example orderly configuration file - edit it to suit your\"   #>   [2] \"# needs.  The fields \\\"script\\\" and \\\"artefacts\\\" are the only\"           #>   [3] \"# ones required (plus whatever your project lists in the root\"            #>   [4] \"# configuration) so they are listed first here.  After that optional\"     #>   [5] \"# fields are listed.  The order does not matter so reorder to suit\"       #>   [6] \"# yourself.\"                                                              #>   [7] \"#\"                                                                        #>   [8] \"# The \\\"data\\\" section will typically contain one or more fields with\"    #>   [9] \"# the name corresponding to an R object you want and the value\"           #>  [10] \"# corresponding to the SQL query to pull that data from the database.\"    #>  [11] \"# You can use a filename instead of an inline query.  Run queries to\"     #>  [12] \"# multiple lines using the `>-` yaml syntax.\"                             #>  [13] \"#\"                                                                        #>  [14] \"#     data:\"                                                              #>  [15] \"#       dat: SELECT field1, field2 FROM table\"                            #>  [16] \"#       more: >-\"                                                         #>  [17] \"#         SELECT field1, field2\"                                          #>  [18] \"#           FROM table1 JOIN table2\"                                      #>  [19] \"#             ON table1.id = table2.fk\"                                   #>  [20] \"#       another: from_file.sql\"                                           #>  [21] \"#\"                                                                        #>  [22] \"# If you are writing a report that uses only artefacts from other\"        #>  [23] \"# reports, you can omit this field.\"                                      #>  [24] \"\"                                                                         #>  [25] \"# You must have a script that does something with the data.  This\"        #>  [26] \"# will be a single string and the filename must exist when orderly is\"    #>  [27] \"# run\"                                                                    #>  [28] \"script: ~\"                                                                #>  [29] \"\"                                                                         #>  [30] \"# You must list at least one artefact that your report will generate.\"    #>  [31] \"# Each artefact consists of one or more files.  The format is to list\"    #>  [32] \"# the \\\"type\\\" of an artefact (staticgraph, interactivegraph, data,\"      #>  [33] \"# report), then below that a description (free text) and then a\"          #>  [34] \"# filename as either a single file or an array of files\"                  #>  [35] \"#\"                                                                        #>  [36] \"#     artefacts:\"                                                         #>  [37] \"#       - staticgraph:\"                                                   #>  [38] \"#           description: A graph of things\"                               #>  [39] \"#           filenames: mygraph.png\"                                       #>  [40] \"#       - report:\"                                                        #>  [41] \"#           description: A complex report\"                                #>  [42] \"#           filenames:\"                                                   #>  [43] \"#             - report.html\"                                              #>  [44] \"#             - figures/fig1.png\"                                         #>  [45] \"#             - figures/fig2.png\"                                         #>  [46] \"artefacts: ~\"                                                             #>  [47] \"\"                                                                         #>  [48] \"# An optional name to describe the report in more detail than its\"        #>  [49] \"# directory name (which must be short) but less detail than\"              #>  [50] \"# \\\"description\\\" (which can be as long as you want).  Must be a string.\" #>  [51] \"#\"                                                                        #>  [52] \"# displayname:\"                                                           #>  [53] \"\"                                                                         #>  [54] \"# An optional free-text description to decsribe the report in as much\"    #>  [55] \"# detail as you want.  Must be a string.  The yaml `>-` or `|` syntax\"    #>  [56] \"# might be useful for long descriptions.\"                                 #>  [57] \"#\"                                                                        #>  [58] \"# description:\"                                                           #>  [59] \"\"                                                                         #>  [60] \"# Optional parameters to the report.  These will be substituted into\"     #>  [61] \"# the SQL queries.  For example:\"                                         #>  [62] \"#\"                                                                        #>  [63] \"# parameters:\"                                                            #>  [64] \"#   a:\"                                                                   #>  [65] \"#     default: 1\"                                                         #>  [66] \"#   b: ~\"                                                                 #>  [67] \"#\"                                                                        #>  [68] \"# would declare a parameter called 'a' with a default value of 1, and\"    #>  [69] \"# a parameter of b with no default.\"                                      #>  [70] \"#\"                                                                        #>  [71] \"# parameters:\"                                                            #>  [72] \"\"                                                                         #>  [73] \"# Similar to \\\"data\\\" but sets of temporary views before the data are\"    #>  [74] \"# extracted.  Can be embedded SQL strings or filenames to actual\"         #>  [75] \"# queries.  Use this to simplify the extraction.\"                         #>  [76] \"#\"                                                                        #>  [77] \"# views:\"                                                                 #>  [78] \"\"                                                                         #>  [79] \"# Packages that should be loaded before the script is run.  Use this\"     #>  [80] \"# in preference to explicit library() calls in your script because it\"    #>  [81] \"# will make it easier to provision containers to run the orderly\"         #>  [82] \"# reports.\"                                                               #>  [83] \"#\"                                                                        #>  [84] \"# packages:\"                                                              #>  [85] \"\"                                                                         #>  [86] \"# Source files, in addition to the script.  Typically these will\"         #>  [87] \"# contain function definitions.  These will be sourced after loading\"     #>  [88] \"# any packages, and before running your script.  Use this in\"             #>  [89] \"# preference to explicit source() calls in your script because\"           #>  [90] \"# otherwise you will have to add them to \\\"resources\\\" (see below)\"       #>  [91] \"#\"                                                                        #>  [92] \"# sources:\"                                                               #>  [93] \"\"                                                                         #>  [94] \"# Resources that the script needs to run; this is an array of strings\"    #>  [95] \"# representing filenames *relative to, and below, this directory*.\"       #>  [96] \"# These will be copied into place when the script is run, and again\"      #>  [97] \"# when commiting the report.  If you require a file and do not list it\"   #>  [98] \"# here, your script will fail!  (That's a good thing because we find\"     #>  [99] \"# out what your script actually needed immediately).  You do not need\"    #> [100] \"# to list files already listed in \\\"sources\\\" here, or any .sql files\"    #> [101] \"# referenced in \\\"views\\\" or \\\"data\\\"\"                                    #> [102] \"#\"                                                                        #> [103] \"# resources:\"                                                             #> [104] \"\"                                                                         #> [105] \"# Optional name of a variable to make the SQL connection available to\"    #> [106] \"# the script.  Use this with care and avoid using any queries that\"       #> [107] \"# modify the database (i.e., use DBI::dbGetQuery with \\\"SELECT\\\" queries\" #> [108] \"# *only*.  Must be a string.\"                                             #> [109] \"#\"                                                                        #> [110] \"# connection:\"                                                            #> [111] \"\"                                                                         #> [112] \"# Indicate which reports your report depends on.  You can use this to\"    #> [113] \"# pull in artefacts from previous reports.  You can depend in multiple\"   #> [114] \"# reports.  The format looks like this:\"                                  #> [115] \"#\"                                                                        #> [116] \"#     depends:\"                                                           #> [117] \"#       other_report_name:\"                                               #> [118] \"#         id: (identifier, possibly \\\"latest\\\")\"                          #> [119] \"#         use: (mapping of filenames in the format dest: from)\"           #> [120] \"\"                                                                         #> [121] \"# For example, to depend on the latest version of report\"                 #> [122] \"# 'other-report', pulling in 'data.csv' as 'other-data.csv' you might\"    #> [123] \"# use:\"                                                                   #> [124] \"#\"                                                                        #> [125] \"#     depends:\"                                                           #> [126] \"#       other-report:\"                                                    #> [127] \"#         id: latest\"                                                     #> [128] \"#         use:\"                                                           #> [129] \"#           other-data.csv: data.csv\"                                     #> [130] \"#\"                                                                        #> [131] \"# depends:\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_packages.html","id":null,"dir":"Reference","previous_headings":"","what":"Return details of packages required by all src reports in this orderly repo — orderly_packages","title":"Return details of packages required by all src reports in this orderly repo — orderly_packages","text":"Return details packages required src reports orderly repo","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_packages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return details of packages required by all src reports in this orderly repo — orderly_packages","text":"","code":"orderly_packages(root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_packages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return details of packages required by all src reports in this orderly repo — orderly_packages","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_packages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return details of packages required by all src reports in this orderly repo — orderly_packages","text":"List packages required src reports","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_packages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return details of packages required by all src reports in this orderly repo — orderly_packages","text":"","code":"path <- orderly::orderly_example(\"minimal\") orderly::orderly_packages(root = path) #> [[1]] #> [1] \"withr\" #>"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_pull_dependencies.html","id":null,"dir":"Reference","previous_headings":"","what":"Download dependent reports — orderly_pull_dependencies","title":"Download dependent reports — orderly_pull_dependencies","text":"Download dependent reports orderly remote.  can used orderly_config.yml lists remote.  allows centralised workflow central orderly store exists holds canonical copies reports, versions can downloaded local stores.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_pull_dependencies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download dependent reports — orderly_pull_dependencies","text":"","code":"orderly_pull_dependencies(   name = NULL,   root = NULL,   locate = TRUE,   remote = NULL,   parameters = NULL,   recursive = TRUE )  orderly_pull_archive(   name,   id = \"latest\",   root = NULL,   locate = TRUE,   remote = NULL,   parameters = NULL,   recursive = TRUE )  orderly_push_archive(   name,   id = \"latest\",   root = NULL,   locate = TRUE,   remote = NULL )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_pull_dependencies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download dependent reports — orderly_pull_dependencies","text":"name Name report download dependencies . Alternatively, default NULL useful already set working directory source directory. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. remote Description location.  Typically character string indicating remote specified remotes block orderly_config.yml.  also possible pass directly created remote object (e.g., using orderly_remote_path(), one provided another package).  left NULL, default remote orderly repository used - default first listed remote. parameters Parameters pass dependency resolution.  using query id involves parameter (e.g., latest(parameter:x == p)) need pass parameters .  Similarly, pulling report uses query dependencies reference parameters need pass (parameter set passed dependencies). recursive Logical, indicating dependencies report also pulled. Setting FALSE direct reports, along metadata dependencies; potentially much faster, leaves archive fragile state. id identifier (orderly_pull_archive).  default use latest report.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_pull_dependencies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download dependent reports — orderly_pull_dependencies","text":"return value, functions called side effects","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_pull_dependencies.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download dependent reports — orderly_pull_dependencies","text":"orderly_pull_archive function pulls report directly (without dependent report). setting username can run orderly_pull_dependencies(\"reportname\") pull dependencies \"reportname\" \"reportname\" can run, can run orderly_pull_archive(\"reportname\") pull copy \"reportname\" run remote server. Pulling archive report remote also pulls dependencies (recursively), adds local database.  may require migrating old orderly archives (orderly_migrate()).  Note migration likely fail remote orderly versions older 0.6.8 migration needs read data files disk included downloaded archive order collect information required database.  case, ask administrator remote orderly archive migrate archive, re-pull. Pushing archive possible remote supports . Currently supported orderly_remote_path() remotes, though orderlyweb remotes.  control accept push point, check pushed \"good\" except exists archive.  pulling archive, pushes recursive respect dependencies.  configuration interface likely change little time.","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_pull_dependencies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download dependent reports — orderly_pull_dependencies","text":"","code":"# Suppose we have a \"remote\" orderly repository at some path. # This might be read-only for you in practice and available via a # network filesystem or a dropbox folder synced to your computer. # We'll populate this with a pair of reports: path_remote <- orderly::orderly_example(\"demo\") id <- orderly::orderly_run(\"other\", list(nmin = 0),                            root = path_remote, echo = FALSE) #> [ name       ]  other #> [ id         ]  20230621-105033-eb061005 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0 #> [ start      ]  2023-06-21 10:50:33 #> [ data       ]  source => extract: 20 x 2 #> [ parameter  ]  nmin: 0 #> [ end        ]  2023-06-21 10:50:33 #> [ elapsed    ]  Ran report in 0.01761746 secs #> [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 #> [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 orderly::orderly_commit(id, root = path_remote) #> [ commit     ]  other/20230621-105033-eb061005 #> [ copy       ] #> [ import     ]  other:20230621-105033-eb061005 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file47efd9e3e/archive/other/20230621-105033-eb061005\" id <- orderly::orderly_run(\"use_dependency\",                            root = path_remote, echo = FALSE) #> [ name       ]  use_dependency #> [ id         ]  20230621-105034-2e62a9d8 #> [ depends    ]  other@20230621-105033-eb061005:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:34 #> [ end        ]  2023-06-21 10:50:34 #> [ elapsed    ]  Ran report in 0.0123229 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: 5c05bfcb21a29c67577faa8bc6382927 orderly::orderly_commit(id, root = path_remote) #> [ commit     ]  use_dependency/20230621-105034-2e62a9d8 #> [ copy       ] #> [ import     ]  use_dependency:20230621-105034-2e62a9d8 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file47efd9e3e/archive/use_dependency/20230621-105034-2e62a9d8\"  # We'll create a an object to interact with this remote using # orderly_remote_path. remote <- orderly::orderly_remote_path(path_remote)  # We can use this object directly remote$list_reports() #>  [1] \"changelog\"          \"connection\"         \"default-param\"      #>  [4] \"global\"             \"html\"               \"interactive\"        #>  [7] \"minimal\"            \"multi-artefact\"     \"multifile-artefact\" #> [10] \"other\"              \"slow1\"              \"slow10\"             #> [13] \"slow3\"              \"spaces\"             \"use_dependency\"     #> [16] \"use_dependency_2\"   \"use_resource\"       \"use_resource_dir\"   #> [19] \"view\"               remote$list_versions(\"other\") #> [1] \"20230621-105033-eb061005\"  # More typically one will interact with the functions # orderly_pull_archive and orderly_pull_dependencies.  # Now, suppose that you have your \"local\" copy of this; it shares # the same source (ordinarily these would both be under version # control with git): path_local <- orderly::orderly_example(\"demo\")  # If we wanted to run the report \"use_dependency\" we need to have # a copy of the report \"other\", on which it depends: try(orderly::orderly_run(\"use_dependency\", root = path_local)) #> [ name       ]  use_dependency #> Error in orderly_find_report(id, name, config, draft = use_draft, must_work = TRUE) :  #>   Did not find archive report other:latest  # We can \"pull\" dependencies of a report before running orderly::orderly_pull_dependencies(\"use_dependency\", remote = remote,                                    root = path_local) #> [ depends    ]  use_dependency has 1 dependency #> [ pull       ]  other:20230621-105033-eb061005 #> [ import     ]  other:20230621-105033-eb061005  # Now we can run the report because we have a local copy of the # dependency: orderly::orderly_run(\"use_dependency\", root = path_local) #> [ name       ]  use_dependency #> [ id         ]  20230621-105034-970fba55 #> [ depends    ]  other@20230621-105033-eb061005:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:34 #>  #> > d <- read.csv(\"incoming.csv\", stringsAsFactors = FALSE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(d$number, d$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #>  #> > info <- orderly::orderly_run_info() #>  #> > saveRDS(info, \"info.rds\") #> [ end        ]  2023-06-21 10:50:34 #> [ elapsed    ]  Ran report in 0.01296592 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: f40fcef7bb80452c0488305e6ab89058 #> [1] \"20230621-105034-970fba55\"  # We can also directly pull previously run reports: orderly::orderly_pull_archive(\"use_dependency\", id, remote = remote,                               root = path_local) #> [ pull       ]  use_dependency:20230621-105034-2e62a9d8 #> [ depends    ]  other/20230621-105033-eb061005 #> [ pull       ]  other:20230621-105033-eb061005 already exists, skipping #> [ import     ]  use_dependency:20230621-105034-2e62a9d8 orderly::orderly_list_archive(root = path_local) #>             name                       id #> 1          other 20230621-105033-eb061005 #> 2 use_dependency 20230621-105034-2e62a9d8"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_rebuild.html","id":null,"dir":"Reference","previous_headings":"","what":"Rebuild the report database — orderly_rebuild","title":"Rebuild the report database — orderly_rebuild","text":"Rebuild report database.  necessary orderly database schema changes, prompted run function upgrading orderly case.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_rebuild.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rebuild the report database — orderly_rebuild","text":"","code":"orderly_rebuild(   root = NULL,   locate = TRUE,   verbose = TRUE,   if_schema_changed = FALSE )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_rebuild.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rebuild the report database — orderly_rebuild","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. verbose Logical, indicating information rebuild printed runs if_schema_changed Logical, indicating rebuild take place schema changed.  designed safe use (say) deployment scripts fast enough call regularly.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_rebuild.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rebuild the report database — orderly_rebuild","text":"return value, function called side effects","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_rebuild.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rebuild the report database — orderly_rebuild","text":"report database (orderly's \"destination\" database) essentially index metadata associated reports.  used orderly , can used applications extend orderly (e.g., OrderlyWeb.  data database can rebuilt files stored committed (archive) orderly reports, using orderly_rebuild function.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_rebuild.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rebuild the report database — orderly_rebuild","text":"","code":"path <- orderly::orderly_example(\"minimal\") id <- orderly::orderly_run(\"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105035-2d23038e #> [ start      ]  2023-06-21 10:50:35 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:35 #> [ elapsed    ]  Ran report in 0.01635027 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072 orderly::orderly_commit(id, root = path) #> [ commit     ]  example/20230621-105035-2d23038e #> [ copy       ] #> [ import     ]  example:20230621-105035-2d23038e #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file47624d282b/archive/example/20230621-105035-2d23038e\"  con <- orderly::orderly_db(\"destination\", root = path) DBI::dbReadTable(con, \"report_version\") #>                         id  report                date displayname description #> 1 20230621-105035-2d23038e example 2023-06-21 10:50:35        <NA>        <NA> #>   connection published    elapsed git_sha git_branch git_clean #> 1          0         0 0.01635027    <NA>       <NA>        NA DBI::dbDisconnect(con)  # The database can be removed and will be rebuilt if requested # (this is only a good idea if you do not extend the database with # your own fields - only the fields that orderly looks after can # be recovered!) file.remove(file.path(path, \"orderly.sqlite\")) #> [1] TRUE orderly::orderly_rebuild(path) #> [ backup     ]  orderly.sqlite => backup/db/orderly.sqlite.20230621-105035 #> [ rebuild    ]  db #> 20230621-105035-2d23038e (example) file.exists(file.path(path, \"orderly.sqlite\")) #> [1] TRUE con <- orderly::orderly_db(\"destination\", root = path) DBI::dbReadTable(con, \"report_version\") #>                         id  report                date displayname description #> 1 20230621-105035-2d23038e example 2023-06-21 10:50:35        <NA>        <NA> #>   connection published    elapsed git_sha git_branch git_clean #> 1          0         0 0.01635027    <NA>       <NA>        NA DBI::dbDisconnect(con)  # It is safe to rebuild a database repeatedly, though this can be # slow with larger databases. orderly::orderly_rebuild(path) #> [ backup     ]  orderly.sqlite => backup/db/orderly.sqlite.20230621-105035 #> [ rebuild    ]  db #> 20230621-105035-2d23038e (example)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a remote — orderly_remote","title":"Get a remote — orderly_remote","text":"Get remote, based configuration orderly_config.yml - different remote drivers different methods, function gives access lower-level objects.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a remote — orderly_remote","text":"","code":"orderly_remote(remote = NULL, root = NULL, locate = TRUE)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a remote — orderly_remote","text":"remote Description location.  Typically character string indicating remote specified remotes block orderly_config.yml.  also possible pass directly created remote object (e.g., using orderly_remote_path(), one provided another package).  left NULL, default remote orderly repository used - default first listed remote. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a remote — orderly_remote","text":"orderly remote, described orderly_config.yml - remotes configured, requested remote exist, error thrown.","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a remote — orderly_remote","text":"","code":"## We need two orderly repositories here - one as a \"local\" and one as ## a \"remote\" (see ?orderly_pull_archive) path_remote <- orderly::orderly_example(\"demo\") path_local <- orderly::orderly_example(\"demo\")  ## Configure our remote: path_config <- file.path(path_local, \"orderly_config.yml\") txt <- readLines(path_config) writeLines(c(   txt,   \"remote:\",   \"  default:\",   \"    driver: orderly::orderly_remote_path\",   \"    args:\",   paste(\"      path:\", path_remote)),   path_config)  ## Get our remote: remote <- orderly::orderly_remote(root = path_local)  ## Can use the remote's methods to interact directly - actual methods ## depend on the remote driver being used. remote$list_reports() #>  [1] \"changelog\"          \"connection\"         \"default-param\"      #>  [4] \"global\"             \"html\"               \"interactive\"        #>  [7] \"minimal\"            \"multi-artefact\"     \"multifile-artefact\" #> [10] \"other\"              \"slow1\"              \"slow10\"             #> [13] \"slow3\"              \"spaces\"             \"use_dependency\"     #> [16] \"use_dependency_2\"   \"use_resource\"       \"use_resource_dir\"   #> [19] \"view\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Orderly remote at a different path — orderly_remote_path","title":"Orderly remote at a different path — orderly_remote_path","text":"Create \"handle\" interacting orderly repositories hosted different path.  might useful cases access orderly repository via network mount synchronised folder (e.g., Dropbox, Box, etc).  generally, orderly_remote_path implements interface used orderly abstract different ways orderly repositories might hosted remotely, including HTTP APIs.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Orderly remote at a different path — orderly_remote_path","text":"","code":"orderly_remote_path(path, name = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Orderly remote at a different path — orderly_remote_path","text":"path Path orderly store name Name remote","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Orderly remote at a different path — orderly_remote_path","text":"orderly_remote_path object, methods orderly use order control remote","code":""},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Orderly remote at a different path — orderly_remote_path","text":"","code":"# Suppose we have a \"remote\" orderly repository at some path. # This might be read-only for you in practice and available via a # network filesystem or a dropbox folder synced to your computer. # We'll populate this with a pair of reports: path_remote <- orderly::orderly_example(\"demo\") id <- orderly::orderly_run(\"other\", list(nmin = 0),                            root = path_remote, echo = FALSE) #> [ name       ]  other #> [ id         ]  20230621-105036-68689f36 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0 #> [ start      ]  2023-06-21 10:50:36 #> [ data       ]  source => extract: 20 x 2 #> [ parameter  ]  nmin: 0 #> [ end        ]  2023-06-21 10:50:36 #> [ elapsed    ]  Ran report in 0.01751804 secs #> [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 #> [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 orderly::orderly_commit(id, root = path_remote) #> [ commit     ]  other/20230621-105036-68689f36 #> [ copy       ] #> [ import     ]  other:20230621-105036-68689f36 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file4750e36bcc/archive/other/20230621-105036-68689f36\" id <- orderly::orderly_run(\"use_dependency\",                            root = path_remote, echo = FALSE) #> [ name       ]  use_dependency #> [ id         ]  20230621-105036-ab4ec3f2 #> [ depends    ]  other@20230621-105036-68689f36:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:36 #> [ end        ]  2023-06-21 10:50:36 #> [ elapsed    ]  Ran report in 0.01221561 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: 257613836b8b7434143957548548e22e orderly::orderly_commit(id, root = path_remote) #> [ commit     ]  use_dependency/20230621-105036-ab4ec3f2 #> [ copy       ] #> [ import     ]  use_dependency:20230621-105036-ab4ec3f2 #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file4750e36bcc/archive/use_dependency/20230621-105036-ab4ec3f2\"  # We'll create a an object to interact with this remote using # orderly_remote_path. remote <- orderly::orderly_remote_path(path_remote)  # We can use this object directly remote$list_reports() #>  [1] \"changelog\"          \"connection\"         \"default-param\"      #>  [4] \"global\"             \"html\"               \"interactive\"        #>  [7] \"minimal\"            \"multi-artefact\"     \"multifile-artefact\" #> [10] \"other\"              \"slow1\"              \"slow10\"             #> [13] \"slow3\"              \"spaces\"             \"use_dependency\"     #> [16] \"use_dependency_2\"   \"use_resource\"       \"use_resource_dir\"   #> [19] \"view\"               remote$list_versions(\"other\") #> [1] \"20230621-105036-68689f36\"  # More typically one will interact with the functions # orderly_pull_archive and orderly_pull_dependencies.  # Now, suppose that you have your \"local\" copy of this; it shares # the same source (ordinarily these would both be under version # control with git): path_local <- orderly::orderly_example(\"demo\")  # If we wanted to run the report \"use_dependency\" we need to have # a copy of the report \"other\", on which it depends: try(orderly::orderly_run(\"use_dependency\", root = path_local)) #> [ name       ]  use_dependency #> Error in orderly_find_report(id, name, config, draft = use_draft, must_work = TRUE) :  #>   Did not find archive report other:latest  # We can \"pull\" dependencies of a report before running orderly::orderly_pull_dependencies(\"use_dependency\", remote = remote,                                    root = path_local) #> [ depends    ]  use_dependency has 1 dependency #> [ pull       ]  other:20230621-105036-68689f36 #> [ import     ]  other:20230621-105036-68689f36  # Now we can run the report because we have a local copy of the # dependency: orderly::orderly_run(\"use_dependency\", root = path_local) #> [ name       ]  use_dependency #> [ id         ]  20230621-105037-1147bd9e #> [ depends    ]  other@20230621-105036-68689f36:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:37 #>  #> > d <- read.csv(\"incoming.csv\", stringsAsFactors = FALSE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(d$number, d$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #>  #> > info <- orderly::orderly_run_info() #>  #> > saveRDS(info, \"info.rds\") #> [ end        ]  2023-06-21 10:50:37 #> [ elapsed    ]  Ran report in 0.01295447 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: 7f85ab8c3a09dfc88c357c7a628be8ba #> [1] \"20230621-105037-1147bd9e\"  # We can also directly pull previously run reports: orderly::orderly_pull_archive(\"use_dependency\", id, remote = remote,                               root = path_local) #> [ pull       ]  use_dependency:20230621-105036-ab4ec3f2 #> [ depends    ]  other/20230621-105036-68689f36 #> [ pull       ]  other:20230621-105036-68689f36 already exists, skipping #> [ import     ]  use_dependency:20230621-105036-ab4ec3f2 orderly::orderly_list_archive(root = path_local) #>             name                       id #> 1          other 20230621-105036-68689f36 #> 2 use_dependency 20230621-105036-ab4ec3f2"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get status of remote queue. — orderly_remote_status","title":"Get status of remote queue. — orderly_remote_status","text":"Get status remote queue list.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get status of remote queue. — orderly_remote_status","text":"","code":"orderly_remote_status(root = NULL, locate = TRUE, remote = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get status of remote queue. — orderly_remote_status","text":"root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. remote Description location.  Typically character string indicating remote specified remotes block orderly_config.yml.  also possible pass directly created remote object (e.g., using orderly_remote_path(), one provided another package).  left NULL, default remote orderly repository used - default first listed remote.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_remote_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get status of remote queue. — orderly_remote_status","text":"List containing details running queued reports remote queue. Including report name, status version (known)","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a report — orderly_run","title":"Run a report — orderly_run","text":"Run report.  create new directory drafts/<reportname>, copy declared resources , extract data databases (using ), run script check expected artefacts created.  successfully run can use orderly_commit() move archive directory.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a report — orderly_run","text":"","code":"orderly_run(   name = NULL,   parameters = NULL,   envir = NULL,   root = NULL,   locate = TRUE,   echo = TRUE,   message = NULL,   instance = NULL,   use_draft = FALSE,   remote = NULL,   tags = NULL )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a report — orderly_run","text":"name Name report run (see orderly_list()).  leading src/ removed provided, allowing easier use autocomplete. Alternatively, default NULL useful already set working directory source directory. parameters Parameters passed report. named list parameters declared orderly.yml.  parameter must scalar character, numeric, integer logical. envir parent environment used evaluate report script; default new environment made global environment parent. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. echo Print result running R code console message optional character string containing message explaining report run instance Select instance source database used, multiple instances configured.  Use single unnamed character string indicate instance match.  given, name must present databases instances listed orderly_config.yml, ignored database instances given.  See \"orderly\" vignette information. use_draft draft reports used dependencies? used development.  Valid values logical (TRUE, FALSE) use string newer use draft reports newer archive reports.  consistency, always never equivalent TRUE FALSE, respectively. remote Remote use resolve dependencies.  Use order run report dependencies available remote server, particularly using id = \"latest\".  Note running orderly_pull_dependencies(), orderly_run remote = NULL, pull/run approach use latest report archive remote = \"remote\" approach use latest approach remote archive (might less recent). tags Character vector tags add report.  Tags immutable removed report run. Tags added addition tags listed tags: field orderly.yml must present orderly_config.yml.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a report — orderly_run","text":"id newly created report","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run a report — orderly_run","text":"Parameters passed report named list, example   (see examples).  names parameters (, nmin) must correspond declared parameters orderly.yml.  error parameters without default omitted, error unknown parameters provided. Environment variables created orderly_envir.yml available report runs.  begin ORDERLY_ saved orderly_run.rds within $env section (except match patterns \"TOKEN\", \"PAT\" \"PASS\").","code":"id <- orderly::orderly_run(\"other\", list(nmin = 0.2), root = path)"},{"path":[]},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a report — orderly_run","text":"","code":"path <- orderly::orderly_example(\"demo\")  # To run most reports, provide the report name (and the path if # not running in the working directory, as is the case here): id <- orderly::orderly_run(\"minimal\", root = path) #> [ name       ]  minimal #> [ id         ]  20230621-105037-a888d8b4 #> [ start      ]  2023-06-21 10:50:37 #> [ data       ]  source => dat: 20 x 2 #>  #> > png(\"mygraph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(dat$number, dat$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:37 #> [ elapsed    ]  Ran report in 0.01624155 secs #> [ artefact   ]  mygraph.png: 175369b2bcf4115f343c8ad746c0c072  # Every report gets a unique identifier, based on the time (it is # ISO 8601 time with random hex appended to end) id #> [1] \"20230621-105037-a888d8b4\"  # After being run, a report is a \"draft\" and will exist in the # drafts directory: orderly::orderly_list_drafts(root = path) #>      name                       id #> 1 minimal 20230621-105037-a888d8b4  # Draft reports are always stored in the path # <root>/draft/<name>/<id>, so we have dir(file.path(path, \"draft\", \"minimal\", id)) #> [1] \"mygraph.png\"     \"orderly.yml\"     \"orderly_run.rds\" \"script.R\"         # which contains the files when the report was run.  # If a report has parameters, then these must be passed in as a # named list. id <- orderly::orderly_run(\"other\", list(nmin = 0.2), root = path) #> [ name       ]  other #> [ id         ]  20230621-105037-b6d52021 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0.2 #> [ start      ]  2023-06-21 10:50:37 #> [ data       ]  source => extract: 19 x 2 #> [ parameter  ]  nmin: 0.2 #>  #> > extract$number <- extract$number + rnorm(1) #>  #> > write.csv(extract, \"summary.csv\", row.names = TRUE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > do_plot(extract) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:37 #> [ elapsed    ]  Ran report in 0.01738548 secs #> [ artefact   ]  summary.csv: 08a4566d063098080bfd318f675926f2 #> [ ...        ]  graph.png: 9d98e56ce7726a1523c1b03eb0e4efb4  # These parameters can be used in SQL queries or in the report # code."},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Information on current orderly run — orderly_run_info","title":"Information on current orderly run — orderly_run_info","text":"function allows inspection orderly's metadata orderly run.  format returned internal orderly subject change.  designed used within report code.  use conjunction orderly_test_start(), must pass path report question.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Information on current orderly run — orderly_run_info","text":"","code":"orderly_run_info(path = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Information on current orderly run — orderly_run_info","text":"path Path report currently run.  left NULL running report, path report run used using orderly_test_start()","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Information on current orderly run — orderly_run_info","text":"list metadata current report","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_info.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Information on current orderly run — orderly_run_info","text":"important data treated readonly!","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Information on current orderly run — orderly_run_info","text":"","code":"path <- orderly::orderly_example(\"demo\")  # This example uses orderly_run_info within its script, saving the # output to \"output.rds\" readLines(file.path(path, \"src\", \"use_dependency\", \"script.R\")) #> [1] \"d <- read.csv(\\\"incoming.csv\\\", stringsAsFactors = FALSE)\" #> [2] \"\"                                                          #> [3] \"png(\\\"graph.png\\\")\"                                        #> [4] \"par(mar = c(15, 4, .5, .5))\"                               #> [5] \"barplot(setNames(d$number, d$name), las = 2)\"              #> [6] \"dev.off()\"                                                 #> [7] \"\"                                                          #> [8] \"info <- orderly::orderly_run_info()\"                       #> [9] \"saveRDS(info, \\\"info.rds\\\")\"                                # Run the dependency: id <- orderly::orderly_run(\"other\", list(nmin = 0), root = path) #> [ name       ]  other #> [ id         ]  20230621-105038-32dff26e #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0 #> [ start      ]  2023-06-21 10:50:38 #> [ data       ]  source => extract: 20 x 2 #> [ parameter  ]  nmin: 0 #>  #> > extract$number <- extract$number + rnorm(1) #>  #> > write.csv(extract, \"summary.csv\", row.names = TRUE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > do_plot(extract) #>  #> > dev.off() #> agg_png  #>       2  #> [ end        ]  2023-06-21 10:50:38 #> [ elapsed    ]  Ran report in 0.017658 secs #> [ artefact   ]  summary.csv: 3fac8347e152c84c96e6676413c718b7 #> [ ...        ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 orderly::orderly_commit(id, root = path) #> [ commit     ]  other/20230621-105038-32dff26e #> [ copy       ] #> [ import     ]  other:20230621-105038-32dff26e #> [ success    ]  :) #> [1] \"/tmp/RtmpGRuIRx/file472ff3654c/archive/other/20230621-105038-32dff26e\"  # Then the report id <- orderly::orderly_run(\"use_dependency\", root = path) #> [ name       ]  use_dependency #> [ id         ]  20230621-105038-74628ae7 #> [ depends    ]  other@20230621-105038-32dff26e:summary.csv -> incoming.csv #> [ start      ]  2023-06-21 10:50:38 #>  #> > d <- read.csv(\"incoming.csv\", stringsAsFactors = FALSE) #>  #> > png(\"graph.png\") #>  #> > par(mar = c(15, 4, 0.5, 0.5)) #>  #> > barplot(setNames(d$number, d$name), las = 2) #>  #> > dev.off() #> agg_png  #>       2  #>  #> > info <- orderly::orderly_run_info() #>  #> > saveRDS(info, \"info.rds\") #> [ end        ]  2023-06-21 10:50:38 #> [ elapsed    ]  Ran report in 0.0127244 secs #> [ artefact   ]  graph.png: a70cdfd037035a0b34e71b921fc9de42 #> [ ...        ]  info.rds: e22d40f422a519b0fe0aa630fdb2cb8c  # This is the contents: readRDS(file.path(path, \"draft\", \"use_dependency\", id, \"info.rds\")) #> $id #> [1] \"20230621-105038-74628ae7\" #>  #> $name #> [1] \"use_dependency\" #>  #> $root #> [1] \"/tmp/RtmpGRuIRx/file472ff3654c\" #>  #> $depends #>                         id index  name draft    filename           as is_pinned #> 1 20230621-105038-32dff26e     1 other    NA summary.csv incoming.csv     FALSE #>                                                                    path #> 1 /tmp/RtmpGRuIRx/file472ff3654c/archive/other/20230621-105038-32dff26e #>   is_latest                             hash                time id_requested #> 1      TRUE 3fac8347e152c84c96e6676413c718b7 2023-06-21 10:50:38       latest #>"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_remote.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a report on a remote server — orderly_run_remote","title":"Run a report on a remote server — orderly_run_remote","text":"Run report remote server.  Note supported remotes using OrderlyWeb present.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_remote.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a report on a remote server — orderly_run_remote","text":"","code":"orderly_run_remote(   name,   parameters = NULL,   ref = NULL,   timeout = NULL,   wait = 3600,   poll = 1,   open = TRUE,   stop_on_error = TRUE,   stop_on_timeout = TRUE,   progress = TRUE,   root = NULL,   locate = TRUE,   instance = NULL,   remote = NULL )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_remote.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a report on a remote server — orderly_run_remote","text":"name Name report parameters Parameters report ref Optional reference, indicating branch used.  used remote default_branch_only set. timeout Time tell server wait killing report. wait Time wait report run; report takes longer time run timeout longer remain running server stop waiting instead throw error. poll Period poll server results (seconds) open Logical, indicating report opened browser completion (supported remote) stop_on_error Logical, indicating throw error report fails.  set FALSE much easier debug, annoying scripts.  report times server (.e., takes longer timeout) counts error. stop_on_timeout Logical, indicating throw error report takes longer wait seconds complete. progress Logical, indicating progress spinner included. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. instance Select instance source database used, multiple instances configured. Use single unnamed character string indicate instance match. use default NULL. remote Description location.  Typically character string indicating remote specified remotes block orderly_config.yml.  also possible pass directly created remote object (e.g., using orderly_remote_path(), one provided another package).  left NULL, default remote orderly repository used - default first listed remote.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_remote.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a report on a remote server — orderly_run_remote","text":"return value, function called side effects","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_run_remote.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a report on a remote server — orderly_run_remote","text":"","code":"path_remote <- orderly::orderly_example(\"demo\") path_local <- orderly::orderly_example(\"demo\") remote <- orderly::orderly_remote_path(path_remote) # Currently, path remotes don't support run try(orderly::orderly_run_remote(   \"minimal\", remote = remote, root = path_local)) #> Error in remote$run(name, parameters = parameters, ref = ref, timeout = timeout,  :  #>   'orderly_remote_path' remotes do not run"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_search.html","id":null,"dir":"Reference","previous_headings":"","what":"Search for orderly reports matching criteria — orderly_search","title":"Search for orderly reports matching criteria — orderly_search","text":"Search orderly reports matching criteria.  can used find reports particular parameter tag used (likely expanded time goes - let us know useful).  search within versions single report .","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_search.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search for orderly reports matching criteria — orderly_search","text":"","code":"orderly_search(   query,   name,   parameters = NULL,   draft = FALSE,   root = NULL,   locate = TRUE,   remote = NULL )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_search.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search for orderly reports matching criteria — orderly_search","text":"query query string - see details examples name Name report search.  single report can searched . parameters Named list parameters (passed orderly_run()) query uses parameters right-hand-side expression. draft draft reports used searched?  used development.  Valid values logical (TRUE, FALSE) use string newer use draft reports newer archive reports. consistency, always never equivalent TRUE FALSE, respectively. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. remote remote use, want apply query remotely.  used draft set TRUE remotes expose draft reports.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_search.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search for orderly reports matching criteria — orderly_search","text":"character vector matching report ids, possibly zero-length.  query \"latest\" query, exactly one report id, possibly NA.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_search.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Search for orderly reports matching criteria — orderly_search","text":"query syntax deliberately simple; may expand bit later.  point can search parameters tags, can combined.  Note using OrderlyWeb, orderly (OrderlyWeb) tags searched. idea queries can used find ids match certain criteria use dependencies.  function lets work resolved query, using query string depends: section let select report matches criteria.  example, suppose report takes parameter \"fruit\" values like \"apple\", \"banana\", report B depends .  write:   get summary.csv file latest report run \"fruit\" parameter set \"apple\". \"B\" takes parameters, can use parameters query expressions like   (assuming B takes parameter target_fruit). syntax tags simpler, one uses tag:tagname test presence tag called \"tagname\". Search queries can joined && || grouped using parentheses, groups (tags) can negated !, complicated query expression might look like:   careful comparing floating point numbers == != may always return expect (example sqrt(3)^2 == 3 FALSE). documentation error messages may refer left-hand-side : \"namespace\".  point supported namespaces tag parameter.","code":"depends:   A:     id: latest(parameter:fruit == \"apple\")     uses:       summary.csv: summary.csv depends:   A:     id: latest(parameter:fruit == target_fruit)     uses:       summary.csv: summary.csv (parameter:fruit == \"apple\" && !tag:weekly) || parameter:fruit == \"banana\""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_search.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search for orderly reports matching criteria — orderly_search","text":"","code":"# We need a few reports here to actually query.  There is a report in # the \"demo\" example called \"other\" that takes a parameter \"nmin\", # which is used to filter data - it's not terribly important what it # does here, but it can give us a set of reports to use.  # The demo set also includes configuration for two tags, called # \"dataset\" and \"plot\" - the \"dataset\" tag will always be applied # as it is listed in the orderly.yml but we can still add the # \"plot\" tag interactively root <- orderly::orderly_example(\"demo\")  # A helper function to mass-produce reports will reduce noise a bit run1 <- function(nmin, tags = NULL) {   id <- orderly_run(\"other\", root = root, echo = FALSE,                     parameters = list(nmin = nmin), tags = tags)   orderly_commit(id, root = root)   id }  ids <- c(run1(0.1), run1(0.2, \"plot\"), run1(0.3)) #> [ name       ]  other #> [ id         ]  20230621-105039-0c9814f2 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0.1 #> [ start      ]  2023-06-21 10:50:39 #> [ data       ]  source => extract: 19 x 2 #> [ parameter  ]  nmin: 0.1 #> [ end        ]  2023-06-21 10:50:39 #> [ elapsed    ]  Ran report in 0.0174346 secs #> [ artefact   ]  summary.csv: 08a4566d063098080bfd318f675926f2 #> [ ...        ]  graph.png: 9d98e56ce7726a1523c1b03eb0e4efb4 #> [ commit     ]  other/20230621-105039-0c9814f2 #> [ copy       ] #> [ import     ]  other:20230621-105039-0c9814f2 #> [ success    ]  :) #> [ name       ]  other #> [ id         ]  20230621-105039-4d2d7e97 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0.2 #> [ start      ]  2023-06-21 10:50:39 #> [ data       ]  source => extract: 19 x 2 #> [ parameter  ]  nmin: 0.2 #> [ end        ]  2023-06-21 10:50:39 #> [ elapsed    ]  Ran report in 0.016361 secs #> [ artefact   ]  summary.csv: cd50fcc04b94e221751a0e9d9b03baeb #> [ ...        ]  graph.png: 994b6ce8c97b6c137d1db1382be0580d #> [ commit     ]  other/20230621-105039-4d2d7e97 #> [ copy       ] #> [ import     ]  other:20230621-105039-4d2d7e97 #> [ success    ]  :) #> [ name       ]  other #> [ id         ]  20230621-105039-7679a8d2 #> [ sources    ]  functions.R #> [ parameter  ]  nmin: 0.3 #> [ start      ]  2023-06-21 10:50:39 #> [ data       ]  source => extract: 17 x 2 #> [ parameter  ]  nmin: 0.3 #> [ end        ]  2023-06-21 10:50:39 #> [ elapsed    ]  Ran report in 0.01739478 secs #> [ artefact   ]  summary.csv: 54a56f371a78d7dabeb7593b81f5f5d6 #> [ ...        ]  graph.png: 27583938cf0eb43dd486f546efe593c7 #> [ commit     ]  other/20230621-105039-7679a8d2 #> [ copy       ] #> [ import     ]  other:20230621-105039-7679a8d2 #> [ success    ]  :)  # We can then ask for all reports where the parameter nmin was more # than some value orderly::orderly_search(\"parameter:nmin > 0.15\", \"other\", root = root) #> [1] \"20230621-105039-4d2d7e97\" \"20230621-105039-7679a8d2\"  # Or use \"&&\" to find tags within a range orderly::orderly_search(\"parameter:nmin > 0.1 && parameter:nmin < 0.3\",                         \"other\", root = root) #> [1] \"20230621-105039-4d2d7e97\"  # If a parameter is not present in some versions of a report you # can use is.null to test for it (this is only ever the case if # you have altered a report definition to add or remove a # parameter) orderly::orderly_search(\"is.null(parameter:nmin)\", \"other\", root = root) #> character(0)  # We can look for tags orderly::orderly_search(\"tag:plot\", \"other\", root = root) #> [1] \"20230621-105039-4d2d7e97\"  # or exclude them orderly::orderly_search(\"!tag:plot\", \"other\", root = root) #> [1] \"20230621-105039-0c9814f2\" \"20230621-105039-7679a8d2\"  # or combine that with the presence/absence of a tag orderly::orderly_search(\"parameter:nmin > 0.15 && !tag:plot\",                         \"other\", root = root) #> [1] \"20230621-105039-7679a8d2\"  # Use latest() over a query to find the latest report matching the # query expression. orderly::orderly_search(\"latest(parameter:nmin > 0.15)\",                         \"other\", root = root) #> [1] \"20230621-105039-7679a8d2\"  # If no reports are found, then a zero-length character vector is returned orderly::orderly_search(\"parameter:nmin > 0.4\", \"other\", root = root) #> character(0)  # Or, in the case of latest(), NA orderly::orderly_search(\"latest(parameter:nmin > 0.4)\",                         \"other\", root = root) #> [1] NA"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_test_start.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare a directory for orderly to use — orderly_test_start","title":"Prepare a directory for orderly to use — orderly_test_start","text":"interactive testing orderly code.  runs sets everything orderly (creates new working directory copies files , pulls data database, copies dependent reports) rather running report hands back user.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_test_start.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare a directory for orderly to use — orderly_test_start","text":"","code":"orderly_test_start(   name,   parameters = NULL,   envir = parent.frame(),   root = NULL,   locate = TRUE,   instance = NULL,   use_draft = FALSE,   remote = NULL )  orderly_test_check(path = NULL)"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_test_start.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare a directory for orderly to use — orderly_test_start","text":"name Name report run (see orderly_list()).  leading src/ removed provided, allowing easier use autocomplete. parameters Parameters passed report. named list parameters declared orderly.yml.  parameter must scalar character, numeric, integer logical. envir parent environment used evaluate report script; default new environment made global environment parent. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. instance Select instance source database used, multiple instances configured.  Use single unnamed character string indicate instance match.  given, name must present databases instances listed orderly_config.yml, ignored database instances given.  See \"orderly\" vignette information. use_draft draft reports used dependencies? used development.  Valid values logical (TRUE, FALSE) use string newer use draft reports newer archive reports.  consistency, always never equivalent TRUE FALSE, respectively. remote Remote use resolve dependencies.  Use order run report dependencies available remote server, particularly using id = \"latest\".  Note running orderly_pull_dependencies(), orderly_run remote = NULL, pull/run approach use latest report archive remote = \"remote\" approach use latest approach remote archive (might less recent). path Path report currently run","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_test_start.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare a directory for orderly to use — orderly_test_start","text":"path report directory","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_test_start.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare a directory for orderly to use — orderly_test_start","text":"Previous versions orderly changed created directory using orderly::orderly_test_start, allowed interactive testing report, including ensuring created expected outputs.  However, CRAN rules allow changing working directory, significantly reduces usefulness function - may remove entirely future version orderly prove useful limited form. new suggested workflow : run orderly_test_start(...) prepare report directory manually change directory following printed instructions use orderly_test_check check report created expected artefacts manually change back original directory","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_test_start.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare a directory for orderly to use — orderly_test_start","text":"","code":"path <- orderly::orderly_example(\"minimal\") p <- orderly::orderly_test_start(\"example\", root = path) #> [ name       ]  example #> [ id         ]  20230621-105040-76fc2400 #> [ start      ]  2023-06-21 10:50:40 #> [ data       ]  source => dat: 20 x 2 #> orderly has prepared your files at the path #>  #>   /tmp/RtmpGRuIRx/file4734aea9c/draft/example/20230621-105040-76fc2400 #>  #> but unfortunately due to CRAN policies we cannot change the #> directory to that path.  In order to continue testing your #> report interactively, please run #>  #>     setwd(\"/tmp/RtmpGRuIRx/file4734aea9c/draft/example/20230621-105040-76fc2400\") #>  #> you will be responsible for getting back to your previous working #> directory after this, which you can do with #>  #>     setwd(\"/orderly/docs/reference\") #>  #> Please see the documentation ?orderly::orderly_test_start for #> more details  # The data in the orderly example is now available to use dat #>                            name     number #> 1              careful_bobolink 0.40683019 #> 2            uncalorific_bonobo 0.91287592 #> 3                marginal_eagle 0.29360337 #> 4       unterrestrial_slothbear 0.45906573 #> 5              illfated_anchovy 0.33239467 #> 6                    wet_shrimp 0.65087047 #> 7          classless_drafthorse 0.25801678 #> 8            upstanding_tattler 0.47854525 #> 9                 cranky_earwig 0.76631067 #> 10 uninspirable_indianglassfish 0.08424691 #> 11             changeable_bream 0.87532133 #> 12        zealous_emperorshrimp 0.33907294 #> 13            brilliant_nandine 0.83944035 #> 14               waiting_agouti 0.34668349 #> 15           tricolour_xrayfish 0.33377493 #> 16  preagricultural_dromaeosaur 0.47635125 #> 17          rhombohedral_canary 0.89219834 #> 18            necessary_barnowl 0.86433947 #> 19          ethnological_oyster 0.38998954 #> 20       snobbish_capeghostfrog 0.77732070  # Check to see which artefacts have been created so far: orderly::orderly_test_check(p) #> [ artefact   ]  mygraph.png: <missing>  # Manually the code that this report has in its script png(file.path(p, \"mygraph.png\")) barplot(setNames(dat$number, dat$name), las = 2) dev.off() #> agg_png  #>       2   # We now confirm that the artefact has been created: orderly::orderly_test_check(p) #> [ artefact   ]  mygraph.png: c486fa4c241c456c72a17f74189a4431"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_use.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a resource to orderly.yml — orderly_use_resource","title":"Add a resource to orderly.yml — orderly_use_resource","text":"Add one resources orderly.yml file.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_use.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a resource to orderly.yml — orderly_use_resource","text":"","code":"orderly_use_resource(   resources,   name = NULL,   root = NULL,   locate = TRUE,   show = TRUE,   edit = TRUE,   prompt = TRUE )  orderly_use_source(   sources,   name = NULL,   root = NULL,   locate = TRUE,   show = TRUE,   edit = TRUE,   prompt = TRUE )  orderly_use_package(   packages,   name = NULL,   root = NULL,   locate = TRUE,   show = TRUE,   edit = TRUE,   prompt = TRUE )  orderly_use_gitignore(   root = NULL,   locate = TRUE,   show = TRUE,   edit = TRUE,   prompt = TRUE )"},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_use.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a resource to orderly.yml — orderly_use_resource","text":"resources, sources Character vector resources sources add.  must filenames relative report directory, must exist, must already present orderly.yml name Name report modify.  Like orderly_develop_start() can NULL already set working directory source directory. root path orderly root directory, NULL (default) search one current working directory locate TRUE. locate Logical, indicating configuration searched .  TRUE config given, orderly looks working directory parents finds orderly_config.yml file. show Logical, indicating print proposed changes screen edit Logical, indicating actually edit orderly.yml file. prompt Logical, indicating prompt editing orderly.yml file.  effect edit TRUE. packages Character vector package names add.  must already exist orderly.yml","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_use.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a resource to orderly.yml — orderly_use_resource","text":"Invisibly, function returns information file edit.  information primarily debugging purposes format subject change.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_use.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add a resource to orderly.yml — orderly_use_resource","text":"orderly_use_gitignore configures basic .gitignore file root orderly project prevent files added git.  really useful using (use) git, harmless worst.","code":""},{"path":"https://www.vaccineimpact.org/orderly/reference/orderly_use.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a resource to orderly.yml — orderly_use_resource","text":"","code":"path <- orderly::orderly_example(\"minimal\")  # Suppose we wanted to use the mtcars data within our report. # First, the file must exist: write.csv(mtcars, file.path(path, \"src\", \"example\", \"mtcars.csv\"),           row.names = FALSE)  # Preview expected changes orderly::orderly_use_resource(\"mtcars.csv\", \"example\", path, edit = FALSE) #> Changes to 'src/example/orderly.yml' #>  8 |     filenames: mygraph.png #>  9 |  #> 10 |  #> 11 | resources: #> 12 |   - mtcars.csv  # Modify the orderly.yml file within src/example: orderly::orderly_use_resource(\"mtcars.csv\", \"example\", path, prompt = FALSE) #> Changes to 'src/example/orderly.yml' #>  8 |     filenames: mygraph.png #>  9 |  #> 10 |  #> 11 | resources: #> 12 |   - mtcars.csv #> Writing to 'src/example/orderly.yml'  # The result is a file that now has a 'resources' section # containing our new file writeLines(readLines(file.path(path, \"src\", \"example\", \"orderly.yml\"))) #> data: #>   dat: #>     query: SELECT name, number FROM thing #> script: script.R #> artefacts: #>   staticgraph: #>     description: A graph of things #>     filenames: mygraph.png #>  #>  #> resources: #>   - mtcars.csv  # (of course, we'd still need to modify the script to use it)."},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-161","dir":"Changelog","previous_headings":"","what":"orderly 1.6.1","title":"orderly 1.6.1","text":"Fix issue writing failure data failed orderly bundle.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-150","dir":"Changelog","previous_headings":"","what":"orderly 1.5.0","title":"orderly 1.5.0","text":"Add prepare_git_example_from_source can used generate git controlled orderly directory source, another entrypoint run_orderly_demo exposes function, use testing OrderlyWeb (mrc-3665)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-147","dir":"Changelog","previous_headings":"","what":"orderly 1.4.7","title":"orderly 1.4.7","text":"Add orderly_cancel_remote can used cancel one reports running remote via key (mrc-3167)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-143","dir":"Changelog","previous_headings":"","what":"orderly 1.4.3","title":"orderly 1.4.3","text":"CRAN release: 2021-09-22 Orderly now records git information .git directory found orderly root (vimc-4866)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-138","dir":"Changelog","previous_headings":"","what":"orderly 1.3.8","title":"orderly 1.3.8","text":"Prevent use rm(list = ls()) (similar) top scripts leads hard--track errors, modifies global environment generally poor practice (vimc-4810)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-135","dir":"Changelog","previous_headings":"","what":"orderly 1.3.5","title":"orderly 1.3.5","text":"Fix backward compatibility R 3.6.x, case report zero 2+ optional fields used (vimc-4766)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-132","dir":"Changelog","previous_headings":"","what":"orderly 1.3.2","title":"orderly 1.3.2","text":"Allow partial pulling orderly dependency trees, passing recursive = FALSE orderly::orderly_pull_archive orderly::orderly_pull_dependencies. can reduce total amount data transferred care much integrity local archive (vimc-4320)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1241","dir":"Changelog","previous_headings":"","what":"orderly 1.2.41","title":"orderly 1.2.41","text":"Clearer error message dependency resolution fails due query dependency (vimc-4742)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1239","dir":"Changelog","previous_headings":"","what":"orderly 1.2.39","title":"orderly 1.2.39","text":"Remove orderly_workflow favour supporting workflows orderly.server (mrc-2275)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1238","dir":"Changelog","previous_headings":"","what":"orderly 1.2.38","title":"orderly 1.2.38","text":"Much clearer error message dependency resolution fails due query dependency (vimc-4499)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1237","dir":"Changelog","previous_headings":"","what":"orderly 1.2.37","title":"orderly 1.2.37","text":"Add function orderly_remote_status return details currently running queued reports remote queue.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1232","dir":"Changelog","previous_headings":"","what":"orderly 1.2.32","title":"orderly 1.2.32","text":"orderly_graph arg max_depth now truncates depth tree instead throwing error arg recursion_limit added works max_depth used ","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1230","dir":"Changelog","previous_headings":"","what":"orderly 1.2.30","title":"orderly 1.2.30","text":"New function orderly_info returns details report runs, successful failed (VIMC-4619)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1229","dir":"Changelog","previous_headings":"","what":"orderly 1.2.29","title":"orderly 1.2.29","text":"orderly_run, orderly_run_internal bundle_run now save orderly_fail.rds run fails containing metadata info failure reason (VIMC-4037)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1225","dir":"Changelog","previous_headings":"","what":"orderly 1.2.25","title":"orderly 1.2.25","text":"orderly_cleanup now sanitise report name passed orderly_cleanup now print summary many items deleted (#265)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1224","dir":"Changelog","previous_headings":"","what":"orderly 1.2.24","title":"orderly 1.2.24","text":"orderly_run_remote checks ref exists running (VIMC-4574)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1223","dir":"Changelog","previous_headings":"","what":"orderly 1.2.23","title":"orderly 1.2.23","text":"orderly_run non-boolean use_draft fixed ID dependency works (#259)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1220","dir":"Changelog","previous_headings":"","what":"orderly 1.2.20","title":"orderly 1.2.20","text":"orderly_pull_archive now tolerant trailing slashes (#260)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1219","dir":"Changelog","previous_headings":"","what":"orderly 1.2.19","title":"orderly 1.2.19","text":"New functions orderly_bundle_pack_remote orderly_bundle_import_remote create bundle remote return completed bundle back remote (VIMC-4457)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1218","dir":"Changelog","previous_headings":"","what":"orderly 1.2.18","title":"orderly 1.2.18","text":"Allow orderly_bundle_import accept filename renamed <id>.zip. generally desirable, may needed workflows (VIMC-4382)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1217","dir":"Changelog","previous_headings":"","what":"orderly 1.2.17","title":"orderly 1.2.17","text":"Fixes bug orderly_bundle_pack failed orderly tree temporary directory different filesystems (VIMC-4354)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1216","dir":"Changelog","previous_headings":"","what":"orderly 1.2.16","title":"orderly 1.2.16","text":"Fixes bug orderly_bundle_run failed using relative path working directory (VIMC-4337)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1215","dir":"Changelog","previous_headings":"","what":"orderly 1.2.15","title":"orderly 1.2.15","text":"Fixes bug default parameter values used resolving query dependencies (VIMC-4135)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1214","dir":"Changelog","previous_headings":"","what":"orderly 1.2.14","title":"orderly 1.2.14","text":"orderly::orderly_new() works orderly repo (yet) src/ directory (VIMC-4032)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1213","dir":"Changelog","previous_headings":"","what":"orderly 1.2.13","title":"orderly 1.2.13","text":"Remove orderly::orderly_runner moved vimc/orderly.server (VIMC-4073)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1212","dir":"Changelog","previous_headings":"","what":"orderly 1.2.12","title":"orderly 1.2.12","text":"Add new function orderly::orderly_config return object representing config (VIMC-4048)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1211","dir":"Changelog","previous_headings":"","what":"orderly 1.2.11","title":"orderly 1.2.11","text":"Added new “bundle” concept, collecting together requirements report orderly can run elsewhere (e.g., HPC) using new functions orderly::orderly_bundle_pack, orderly::orderly_bundle_run orderly::orderly_bundle_import. interface expanded interface may change somewhat (VIMC-3825)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1210","dir":"Changelog","previous_headings":"","what":"orderly 1.2.10","title":"orderly 1.2.10","text":"Add function get_report_parameters list parameters report particular commit id (VIMC-3953)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-129","dir":"Changelog","previous_headings":"","what":"orderly 1.2.9","title":"orderly 1.2.9","text":"Add function get_reports list reports available particular branch commit orderly_runner (VIMC-3945)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-128","dir":"Changelog","previous_headings":"","what":"orderly 1.2.8","title":"orderly 1.2.8","text":"Add function git_commits list commits particular branch orderly_runner (VIMC-3941)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-127","dir":"Changelog","previous_headings":"","what":"orderly 1.2.7","title":"orderly 1.2.7","text":"Add function git_branches_no_merged get unmerged branches orderly_runner (VIMC-3857)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-125","dir":"Changelog","previous_headings":"","what":"orderly 1.2.5","title":"orderly 1.2.5","text":"Add ability run workflow CLI (VIMC-3873)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-124","dir":"Changelog","previous_headings":"","what":"orderly 1.2.4","title":"orderly 1.2.4","text":"Error messages stack traces now preserved orderly.log failed run; primarily impacts cli runner primarily run parallel log printed screen (VIMC-3841)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-123","dir":"Changelog","previous_headings":"","what":"orderly 1.2.3","title":"orderly 1.2.3","text":"New function orderly::orderly_workflow allows users run “workflow” - list reports run order. Workflows configured via yml file workflows/ directory.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-120","dir":"Changelog","previous_headings":"","what":"orderly 1.2.0","title":"orderly 1.2.0","text":"orderly::orderly_data() removed believe anyone using , superseded orderly::orderly_develop_start() (VIMC-3611) internally used arguments removed orderly::orderly_run (id_file, batch_id, ref fetch). intended direct use users (VIMC-3539)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1135","dir":"Changelog","previous_headings":"","what":"orderly 1.1.35","title":"orderly 1.1.35","text":"orderly::orderly_pull_dependencies() works dependencies use query ids, orderly::orderly_pull_archive() accepts query ids (rather just latest) argument (VIMC-3789)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1134","dir":"Changelog","previous_headings":"","what":"orderly 1.1.34","title":"orderly 1.1.34","text":"orderly::orderly_run_remote() takes instance argument allow users specify source DB (VIMC-3698)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1132","dir":"Changelog","previous_headings":"","what":"orderly 1.1.32","title":"orderly 1.1.32","text":"New function orderly::orderly_push_archive() allows pushing archive remote. orderly::orderly_remote_path remote supports , though care taken push! (VIMC-3784)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1131","dir":"Changelog","previous_headings":"","what":"orderly 1.1.31","title":"orderly 1.1.31","text":"orderly::orderly_rebuild() creates dated backup database running, allowing potentially destructive operation recovered (VIMC-3702)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1128","dir":"Changelog","previous_headings":"","what":"orderly 1.1.28","title":"orderly 1.1.28","text":"orderly::orderly_develop_clean() longer deletes artefacts re-exported sources (VIMC-3671, reported @cewalters)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1127","dir":"Changelog","previous_headings":"","what":"orderly 1.1.27","title":"orderly 1.1.27","text":"Allow orderly::orderly_develop_start() use environment variables declared orderly.yml defined orderly_envir.yml (#214, VIMC-3669, reported @sangeetabhatia03)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1126","dir":"Changelog","previous_headings":"","what":"orderly 1.1.26","title":"orderly 1.1.26","text":"Add ability post report commit notification Microsoft Teams (VIMC-3640)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1124","dir":"Changelog","previous_headings":"","what":"orderly 1.1.24","title":"orderly 1.1.24","text":"Batches parameters can supplied orderly batch using csv file via --file (VIMC-3569)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1123","dir":"Changelog","previous_headings":"","what":"orderly 1.1.23","title":"orderly 1.1.23","text":"New function orderly::orderly_remote() getting “orderly remote” object, declared orderly_config.yml (VIMC-3655)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1120","dir":"Changelog","previous_headings":"","what":"orderly 1.1.20","title":"orderly 1.1.20","text":"Add support running batches orderly reports differ parameters, available via orderly::orderly_batch CLI orderly batch (VIMC-3603)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1115","dir":"Changelog","previous_headings":"","what":"orderly 1.1.15","title":"orderly 1.1.15","text":"Fix bug report downloading work pathological windows paths (VIMC-3595)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1114","dir":"Changelog","previous_headings":"","what":"orderly 1.1.14","title":"orderly 1.1.14","text":"Fix bug instance selection, probably introduced 1.0.6 (VIMC-3589)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1113","dir":"Changelog","previous_headings":"","what":"orderly 1.1.13","title":"orderly 1.1.13","text":"Enable implicit report name orderly::orderly_run orderly::orderly_pull_dependenices (VIMC-3512, #170)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1112","dir":"Changelog","previous_headings":"","what":"orderly 1.1.12","title":"orderly 1.1.12","text":"Introduces basic query interface searching reports match criteria based parameters tags, can used directly orderly::orderly_search declaring dependencies (VIMC-3538)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1111","dir":"Changelog","previous_headings":"","what":"orderly 1.1.11","title":"orderly 1.1.11","text":"Environment variables can used orderly reports using environment: field orderly.yml (VIMC-3558)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1110","dir":"Changelog","previous_headings":"","what":"orderly 1.1.10","title":"orderly 1.1.10","text":"Secrets can read vault used orderly reports (VIMC-3536)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-119","dir":"Changelog","previous_headings":"","what":"orderly 1.1.9","title":"orderly 1.1.9","text":"Better parsing parameters passed command line, allowing parameters passed , coping better shell quoting (VIMC-3550)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-116","dir":"Changelog","previous_headings":"","what":"orderly 1.1.6","title":"orderly 1.1.6","text":"Environment variables orderly_envir.yml available report run (#180, VIMC-3530)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-115","dir":"Changelog","previous_headings":"","what":"orderly 1.1.5","title":"orderly 1.1.5","text":"Introduce concept “tags”; immutable exist level report version. Currently nothing can done tags, become useful conjunction OrderlyWeb (VIMC-3514)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-114","dir":"Changelog","previous_headings":"","what":"orderly 1.1.4","title":"orderly 1.1.4","text":"Automatic creation .gitignore files orderly::orderly_use_gitignore (VIMC-3513, reported @jeffeaton)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-113","dir":"Changelog","previous_headings":"","what":"orderly 1.1.3","title":"orderly 1.1.3","text":"orderly::orderly_develop_* functions now permissive allow invalid orderly.yml continue - particular, partially complete template generated orderly::orderly_new can directly used (VIMC-3510)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-112","dir":"Changelog","previous_headings":"","what":"orderly 1.1.2","title":"orderly 1.1.2","text":"Improved error message misformatted artefacts (VIMC-3511, reported @jeffeaton) first usethis inspired functions orderly::orderly_use_resource(), orderly::orderly_use_source() orderly::orderly_use_package()can add resource, source packages orderly.yml (VIMC-3503)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-111","dir":"Changelog","previous_headings":"","what":"orderly 1.1.1","title":"orderly 1.1.1","text":"Dependencies can resolved run remote (including appropriate selection “latest” dependencies). support future decentralised workflows (VIMC-3473)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-110","dir":"Changelog","previous_headings":"","what":"orderly 1.1.0","title":"orderly 1.1.0","text":"New report development mode, via orderly_develop_start, orderly_develop_status orderly_develop_clean. largely supersede orderly_test_start, though latter remains now (VIMC-3404)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1015","dir":"Changelog","previous_headings":"","what":"orderly 1.0.15","title":"orderly 1.0.15","text":"Depending draft reports, including use_draft = \"newer\", longer pulls failed drafts (VIMC-3467, reported @sangeetabhatia03)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1014","dir":"Changelog","previous_headings":"","what":"orderly 1.0.14","title":"orderly 1.0.14","text":"Functionality creating dependency graphs reports using orderly::orderly_graph (VIMC-2174)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1013","dir":"Changelog","previous_headings":"","what":"orderly 1.0.13","title":"orderly 1.0.13","text":"orderly CLI runner gets pull sub command pulling dependencies remote orderly servers (VIMC-3466)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1012","dir":"Changelog","previous_headings":"","what":"orderly 1.0.12","title":"orderly 1.0.12","text":"orderly CLI runner gets --instance argument (VIMC-3460) instance information saved orderly_run.rds. yet reflected database might tweaked added.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1011","dir":"Changelog","previous_headings":"","what":"orderly 1.0.11","title":"orderly 1.0.11","text":"informative error messages orderly fails resolve environment variable, particularly loading remote configuration (VIMC-3386)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-1010","dir":"Changelog","previous_headings":"","what":"orderly 1.0.10","title":"orderly 1.0.10","text":"Fix regression running reports - vault autocompletes vault_server","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-109","dir":"Changelog","previous_headings":"","what":"orderly 1.0.9","title":"orderly 1.0.9","text":"Enforce parameter types model run, rather commit, better messages (VIMC-3411)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-108","dir":"Changelog","previous_headings":"","what":"orderly 1.0.8","title":"orderly 1.0.8","text":"Expand vault server defined allow additional arguments directly specified (VIMC-3372)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-107","dir":"Changelog","previous_headings":"","what":"orderly 1.0.7","title":"orderly 1.0.7","text":"flexible control use draft reports, using argument use_draft orderly_run orderly_test_start. replace use explicitly specifying draft: true depends section orderly.yml (VIMC-3377).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-106","dir":"Changelog","previous_headings":"","what":"orderly 1.0.6","title":"orderly 1.0.6","text":"Database configurations now support concept “instances” allow switching different versions database (e.g., production staging) without manually altering configuration environment variables. Functions orderly::orderly_run, orderly::orderly_db, orderly::orderly_test_start orderly::orderly_data get instance argument support (VIMC-3302).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-105","dir":"Changelog","previous_headings":"","what":"orderly 1.0.5","title":"orderly 1.0.5","text":"metadata now includes state .Random.seed, present (VIMC-3375)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-103","dir":"Changelog","previous_headings":"","what":"orderly 1.0.3","title":"orderly 1.0.3","text":"orderly::orderly_test_start prints instructions paste-able windows – previously may contained backslashes (VIMC-3251). orderly::orderly_run now strips leading src/ provided, allowing easier tab-completion report names (VIMC-3226).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-102-cran","dir":"Changelog","previous_headings":"","what":"orderly 1.0.2 (CRAN)","title":"orderly 1.0.2 (CRAN)","text":"CRAN release: 2019-10-28 orderly::orderly_test_check longer case sensitive paths, preventing issues used directories canonical casing (VIMC-3205)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-101","dir":"Changelog","previous_headings":"","what":"orderly 1.0.1","title":"orderly 1.0.1","text":"CRAN release: 2019-10-17 orderly comply CRAN policies, functionality orderly::orderly_test_start related functions severely reduced. Functions orderly::orderly_test_end orderly::orderly_test_restart removed orderly::orderly_test_start longer directly provides useable environment testing reports (VIMC-3178).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-100","dir":"Changelog","previous_headings":"","what":"orderly 1.0.0","title":"orderly 1.0.0","text":"Initial release CRAN","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-081","dir":"Changelog","previous_headings":"","what":"orderly 0.8.1","title":"orderly 0.8.1","text":"Parameters now accept defaults orderly.yml, format altered slightly (VIMC-2413, #8).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-080","dir":"Changelog","previous_headings":"","what":"orderly 0.8.0","title":"orderly 0.8.0","text":"Deprecated functions pull_archive, pull_dependencies, set_default_remote removed (VIMC-2946, deprecated VIMC-2944 / 0.7.2).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0716","dir":"Changelog","previous_headings":"","what":"orderly 0.7.16","title":"orderly 0.7.16","text":"orderly_migrate can now clean old migration backup files. generally quite safe delete, better directly orderly (VIMC-3157)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0715","dir":"Changelog","previous_headings":"","what":"orderly 0.7.15","title":"orderly 0.7.15","text":"Global resources can now renamed copy, allowing use subdirectories structure . Using global resources set strings now deprecated (VIMC-2961).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0714","dir":"Changelog","previous_headings":"","what":"orderly 0.7.14","title":"orderly 0.7.14","text":"command line interface overhauled, particular parameter passing interface (VIMC-2469) now accepts key-value pairs json","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0713","dir":"Changelog","previous_headings":"","what":"orderly 0.7.13","title":"orderly 0.7.13","text":"now possible deduplicate orderly archive using orderly::orderly_deduplicate (VIMC-731).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0712","dir":"Changelog","previous_headings":"","what":"orderly 0.7.12","title":"orderly 0.7.12","text":"orderly_run now checks sink imbalance, way device imbalances currently checked , preventing odd errors sinks left open many closed (VIMC-3129)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-079","dir":"Changelog","previous_headings":"","what":"orderly 0.7.9","title":"orderly 0.7.9","text":"README files copied destination directory, just top level (VIMC-3065)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-077","dir":"Changelog","previous_headings":"","what":"orderly 0.7.7","title":"orderly 0.7.7","text":"Pulling remotes now imports report local orderly db, also pulls dependent reports (VIMC-2855, VIMC-3054).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-076","dir":"Changelog","previous_headings":"","what":"orderly 0.7.6","title":"orderly 0.7.6","text":"Detection modified dependencies improved (VIMC-2997).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-075","dir":"Changelog","previous_headings":"","what":"orderly 0.7.5","title":"orderly 0.7.5","text":"Fixes notifications slack report completion (VIMC-2992).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-074","dir":"Changelog","previous_headings":"","what":"orderly 0.7.4","title":"orderly 0.7.4","text":"database configuration orderly_config.yml now “args” section, rather guessing arguments. Old configurations valid, warning update (VIMC-1986).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-073","dir":"Changelog","previous_headings":"","what":"orderly 0.7.3","title":"orderly 0.7.3","text":"Function orderly_unzip_archive / unzip_archive removed preparation release. Function push_archive (previously marked experimental implemented anything file remotes) removed. may reconsider future.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-072","dir":"Changelog","previous_headings":"","what":"orderly 0.7.2","title":"orderly 0.7.2","text":"Functions pull_archive pull_dependencies deprecated favour orderly_pull_archive orderly_pull_dependencies (respectively). Similarly, set_default_remote becomes orderly_default_remote_set orderly_default_remote_get exported. unzip_archive becomes orderly_unzip_archive (VIMC-2944).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-071","dir":"Changelog","previous_headings":"","what":"orderly 0.7.1","title":"orderly 0.7.1","text":"Remove arguments open extended_output orderly_run widely used (VIMC-2945)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-070","dir":"Changelog","previous_headings":"","what":"orderly 0.7.0","title":"orderly 0.7.0","text":"concept “publishing” report removed orderly preparation implemented entirely OrderlyWeb (meantime provided orderly.server (VIMC-2941)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-066","dir":"Changelog","previous_headings":"","what":"orderly 0.6.6","title":"orderly 0.6.6","text":"database schema now represents “custom” fields way makes obvious fields fact custom, using new tables custom_fields (holding metadata fields) report_version_custom_fields (linking report versions) (VIMC-2768)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-065","dir":"Changelog","previous_headings":"","what":"orderly 0.6.5","title":"orderly 0.6.5","text":"orderly “runner” (orderly_runner) now periodically backup destination database, useful cases applications store information (VIMC-2882)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-064","dir":"Changelog","previous_headings":"","what":"orderly 0.6.4","title":"orderly 0.6.4","text":"config argument exported functions renamed root better reflect expected passed (VIMC-2919)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-063","dir":"Changelog","previous_headings":"","what":"orderly 0.6.3","title":"orderly 0.6.3","text":"orderly_run.yml script now removed orderly_run.rds sole source truth orderly run metadata (VIMC-2873).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-060","dir":"Changelog","previous_headings":"","what":"orderly 0.6.0","title":"orderly 0.6.0","text":"Allow multiple databases (database) used orderly configuration (VIMC-2795)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0518","dir":"Changelog","previous_headings":"","what":"orderly 0.5.18","title":"orderly 0.5.18","text":"Remove old db schema (VIMC-2769)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0517","dir":"Changelog","previous_headings":"","what":"orderly 0.5.17","title":"orderly 0.5.17","text":"README.md files automatically copied resources source folder. Additionally error include README.md artefact (VIMC-2230) Fix passing timeout remote runners using montagu package (VIMC-2517)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0516","dir":"Changelog","previous_headings":"","what":"orderly 0.5.16","title":"orderly 0.5.16","text":"database schema now stores basic git information alongside report versions, report source archive uses git (VIMC-2615) runner now recognises master_only configuration option can prevent running reports references master. now enforced entirely server (VIMC-2642) changelog table includes attributable public report version attributable changelog entry","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0515","dir":"Changelog","previous_headings":"","what":"orderly 0.5.15","title":"orderly 0.5.15","text":"orderly now prompts install missing packages offers code help (VIMC-2384) orderly run command line accepts message entries (VIMC-2363, VIMC-1797) orderly checks resources modified running report (VIMC-2137)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0514","dir":"Changelog","previous_headings":"","what":"orderly 0.5.14","title":"orderly 0.5.14","text":"README.md automatically treated resource present (VIMC-2230) Fix handling remote environment variables (VIMC-2553)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0513","dir":"Changelog","previous_headings":"","what":"orderly 0.5.13","title":"orderly 0.5.13","text":"Removes support shiny apps poorly tested used us (VIMC-2544, VIMC-2538).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0512","dir":"Changelog","previous_headings":"","what":"orderly 0.5.12","title":"orderly 0.5.12","text":"montagu package longer used directly orderly (VIMC-2453) - instead use similar “driver” approach database connections. paves way eventual CRAN release (VIMC-2421).","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0511","dir":"Changelog","previous_headings":"","what":"orderly 0.5.11","title":"orderly 0.5.11","text":"Improvements archive migration local archive directories contain invalid files (VIMC-2449). orderly now indicates version failed run, can move failed versions aside complete migration rest archive.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-0510","dir":"Changelog","previous_headings":"","what":"orderly 0.5.10","title":"orderly 0.5.10","text":"Requires vaultr 0.2.0, major overhaul package.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-058","dir":"Changelog","previous_headings":"","what":"orderly 0.5.8","title":"orderly 0.5.8","text":"Better error messages unexpected files found orderly archive (VIMC-1761) Include parameters used orderly database (VIMC-2397) Better error message migration needed (VIMC-2392) orderly works report repository clones lack archive directory (VIMC-2383)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-057","dir":"Changelog","previous_headings":"","what":"orderly 0.5.7","title":"orderly 0.5.7","text":"Support changelogs (VIMC-1503)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-056","dir":"Changelog","previous_headings":"","what":"orderly 0.5.6","title":"orderly 0.5.6","text":"displayname description fields correctly copied new orderly database.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-055","dir":"Changelog","previous_headings":"","what":"orderly 0.5.5","title":"orderly 0.5.5","text":"New connection column report_version table orderly’s database (VIMC-2327)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-054","dir":"Changelog","previous_headings":"","what":"orderly 0.5.4","title":"orderly 0.5.4","text":"New latest column report table orderly’s database (VIMC-2298)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-053","dir":"Changelog","previous_headings":"","what":"orderly 0.5.3","title":"orderly 0.5.3","text":"Null entries allowed orderly_envir.yml","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-052","dir":"Changelog","previous_headings":"","what":"orderly 0.5.2","title":"orderly 0.5.2","text":"Introduces “global resources” support assets used multiple reports dependencies. database schema includes published field (VIMC-2251) New option if_schema_changed rebuild orderly database (orderly_rebuild) schema change (VIMC-2280)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-050","dir":"Changelog","previous_headings":"","what":"orderly 0.5.0","title":"orderly 0.5.0","text":"Send slack message report run commandline tool, extension runner (VIMC-1931) New internal database structure (VIMC-1930)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-048","dir":"Changelog","previous_headings":"","what":"orderly 0.4.8","title":"orderly 0.4.8","text":"Fix running reports montagu servers (VIMC-1911)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-047","dir":"Changelog","previous_headings":"","what":"orderly 0.4.7","title":"orderly 0.4.7","text":"Reset working directory orderly_test_start fails startup (VIMC-1870) Extend templates allow multiple files versions templates (VIMC-1877)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-046","dir":"Changelog","previous_headings":"","what":"orderly 0.4.6","title":"orderly 0.4.6","text":"Also output times orderly::orderly_run_info (#24/VIMC-1818)","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-045","dir":"Changelog","previous_headings":"","what":"orderly 0.4.5","title":"orderly 0.4.5","text":"Copy template report orderly/template.yml within orderly root available, falling back version package. push_archive, inverse pull_archive copying archive report elsewhere (VIMC-1811). Currently supported remote path. orderly::orderly_run_info() can return information current run, including information dependencies.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-044","dir":"Changelog","previous_headings":"","what":"orderly 0.4.4","title":"orderly 0.4.4","text":"Print total elapsed time taken print report Runner can kill reports Git reset previous HEAD immediately preparing workdir orderly_run gains --fetch argument, used --ref specified run git fetch resolving ref orderly runner looks sha ref point queuing, rather point running cli tool gets --pull --fetch argument","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-041","dir":"Changelog","previous_headings":"","what":"orderly 0.4.1","title":"orderly 0.4.1","text":"Support adding message report","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-040","dir":"Changelog","previous_headings":"","what":"orderly 0.4.0","title":"orderly 0.4.0","text":"Support downloading reports locations montagu. includes breaking change, server argument pull_dependencies pull_report changes remote. structure probably change little future version.","code":""},{"path":"https://www.vaccineimpact.org/orderly/news/index.html","id":"orderly-034","dir":"Changelog","previous_headings":"","what":"orderly 0.3.4","title":"orderly 0.3.4","text":"Support creating “shiny apps” artefacts","code":""}]
